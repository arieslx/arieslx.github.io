<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="说明给自己过知识点看的，查漏补缺，建议看原作。前端内参 es新特性es71234567891011&#x2F;&#x2F; 1. Array.prototype.includeslet arr &#x3D; [1,2,NaN];console.log(arr.includes(NaN)); &#x2F;&#x2F; trueconsole.log(arr.indexOf(NaN) !&#x3D; -1) &#x2F;&#x2F; falseconsole.log(arr.in">
<meta property="og:type" content="article">
<meta property="og:title" content="2025年｜前端内参复习">
<meta property="og:url" content="http://yoursite.com/2025/11/23/2025-sum-06/index.html">
<meta property="og:site_name" content="Arieslx">
<meta property="og:description" content="说明给自己过知识点看的，查漏补缺，建议看原作。前端内参 es新特性es71234567891011&#x2F;&#x2F; 1. Array.prototype.includeslet arr &#x3D; [1,2,NaN];console.log(arr.includes(NaN)); &#x2F;&#x2F; trueconsole.log(arr.indexOf(NaN) !&#x3D; -1) &#x2F;&#x2F; falseconsole.log(arr.in">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-11-23T07:17:59.000Z">
<meta property="article:modified_time" content="2025-12-03T13:42:34.980Z">
<meta property="article:tag" content="2025">
<meta property="article:tag" content="front-end-interview">
<meta property="article:tag" content="前端内参">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>2025年｜前端内参复习</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2025/11/27/2025-hut-02/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2025/11/23/2025-sum-08/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2025/11/23/2025-sum-06/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://yoursite.com/2025/11/23/2025-sum-06/&text=2025年｜前端内参复习"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2025/11/23/2025-sum-06/&is_video=false&description=2025年｜前端内参复习"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=2025年｜前端内参复习&body=Check out this article: http://yoursite.com/2025/11/23/2025-sum-06/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2025/11/23/2025-sum-06/&name=2025年｜前端内参复习&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://yoursite.com/2025/11/23/2025-sum-06/&t=2025年｜前端内参复习"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#es%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">2.</span> <span class="toc-text">es新特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#es7"><span class="toc-number">2.1.</span> <span class="toc-text">es7</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es8"><span class="toc-number">2.2.</span> <span class="toc-text">es8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es9"><span class="toc-number">2.3.</span> <span class="toc-text">es9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es10"><span class="toc-number">2.4.</span> <span class="toc-text">es10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es11"><span class="toc-number">2.5.</span> <span class="toc-text">es11</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">3.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this"><span class="toc-number">4.</span> <span class="toc-text">this</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E6%80%8E%E4%B9%88%E5%88%A4%E6%96%AD%E5%A5%BD%E5%91%A2%EF%BC%9F"><span class="toc-number">4.1.</span> <span class="toc-text">具体怎么判断好呢？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#call%E3%80%81apply%E3%80%81bind"><span class="toc-number">5.</span> <span class="toc-text">call、apply、bind</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#call%E3%80%81apply%E5%BA%94%E8%AF%A5%E7%94%A8%E5%93%AA%E4%B8%AA%EF%BC%9F"><span class="toc-number">5.1.</span> <span class="toc-text">call、apply应该用哪个？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%86%99call%E3%80%81bind%E3%80%81apply"><span class="toc-number">5.2.</span> <span class="toc-text">手写call、bind、apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0apply-call-bind"><span class="toc-number">5.3.</span> <span class="toc-text">实现apply&#x2F;call&#x2F;bind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apply"><span class="toc-number">5.4.</span> <span class="toc-text">apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call"><span class="toc-number">5.5.</span> <span class="toc-text">call</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bind"><span class="toc-number">5.6.</span> <span class="toc-text">bind</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">5.6.1.</span> <span class="toc-text">常见面试题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#javascript%E6%89%8B%E5%86%99call%EF%BC%8Capply%EF%BC%8Cbind%E5%87%BD%E6%95%B0%EF%BC%8C%E5%B0%A4%E5%85%B6%E6%98%AFbind%E5%87%BD%E6%95%B0"><span class="toc-number">5.6.2.</span> <span class="toc-text">javascript手写call，apply，bind函数，尤其是bind函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">6.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-number">7.</span> <span class="toc-text">原型和原型链</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%EF%BC%8CEventLoop"><span class="toc-number">8.</span> <span class="toc-text">线程，EventLoop</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">9.</span> <span class="toc-text">循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for%EF%BC%8CforEach%EF%BC%8Cmap"><span class="toc-number">9.1.</span> <span class="toc-text">for，forEach，map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for-in-amp-for-of"><span class="toc-number">9.2.</span> <span class="toc-text">for..in &amp; for..of</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filter-find-some-sort-reduce"><span class="toc-number">9.3.</span> <span class="toc-text">filter,find,some,sort,reduce</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reduce"><span class="toc-number">9.4.</span> <span class="toc-text">reduce</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">10.</span> <span class="toc-text">深拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%AF%E9%87%8C%E5%8C%96"><span class="toc-number">11.</span> <span class="toc-text">柯里化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reflect%E5%92%8Cproxy"><span class="toc-number">12.</span> <span class="toc-text">reflect和proxy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E5%92%8C%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">12.1.</span> <span class="toc-text">数据绑定和响应式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95"><span class="toc-number">12.2.</span> <span class="toc-text">日志记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6"><span class="toc-number">12.3.</span> <span class="toc-text">权限控制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="toc-number">13.</span> <span class="toc-text">网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#http"><span class="toc-number">13.1.</span> <span class="toc-text">http</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-2-%E5%92%8C-HTTP-1-1-%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">13.2.</span> <span class="toc-text">HTTP&#x2F;2 和 HTTP&#x2F;1.1 的对比</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98"><span class="toc-number">13.2.1.</span> <span class="toc-text">相关问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E7%AD%94%E5%85%B3%E9%94%AE%E7%82%B9"><span class="toc-number">13.2.2.</span> <span class="toc-text">回答关键点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-1-1-%E7%9B%B8%E8%BE%83-HTTP-1-0-%E7%9A%84%E6%94%B9%E8%BF%9B%E5%92%8C%E4%BC%98%E5%8C%96%EF%BC%9A"><span class="toc-number">13.3.</span> <span class="toc-text">HTTP&#x2F;1.1 相较 HTTP&#x2F;1.0 的改进和优化：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-1-1-%E7%9A%84%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="toc-number">13.3.1.</span> <span class="toc-text">HTTP&#x2F;1.1 的缺点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-2-%E7%9A%84%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="toc-number">13.3.2.</span> <span class="toc-text">HTTP&#x2F;2 的优点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B7%B1%E5%85%A5"><span class="toc-number">13.3.3.</span> <span class="toc-text">知识点深入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E8%BF%9E%E6%8E%A5"><span class="toc-number">13.3.4.</span> <span class="toc-text">持久连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E7%AE%A1%E9%81%93%E5%8C%96"><span class="toc-number">13.3.5.</span> <span class="toc-text">HTTP管道化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%9D%97%E7%BC%96%E7%A0%81%E4%BC%A0%E8%BE%93"><span class="toc-number">13.3.6.</span> <span class="toc-text">分块编码传输</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%A2%9EHost%E5%A4%B4%E5%A4%84%E7%90%86"><span class="toc-number">13.3.7.</span> <span class="toc-text">新增Host头处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0%E3%80%81%E5%B9%B6%E8%A1%8C%E4%B8%8B%E8%BD%BD"><span class="toc-number">13.3.8.</span> <span class="toc-text">断点续传、并行下载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-1-1-%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-number">13.3.9.</span> <span class="toc-text">HTTP&#x2F;1.1 的缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-2"><span class="toc-number">13.4.</span> <span class="toc-text">HTTP&#x2F;2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-2-%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-number">13.4.1.</span> <span class="toc-text">HTTP&#x2F;2 的优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E5%92%8CHTTPS%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">13.4.2.</span> <span class="toc-text">HTTP和HTTPS的基本概念</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#xss%E5%92%8Ccsrf"><span class="toc-number">14.</span> <span class="toc-text">xss和csrf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E5%A4%A7%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-number">15.</span> <span class="toc-text">十大排序算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-number">15.1.</span> <span class="toc-text">冒泡排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-number">15.2.</span> <span class="toc-text">选择排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="toc-number">15.3.</span> <span class="toc-text">插入排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%EF%BC%88Top1-%E9%AB%98%E9%A2%91%EF%BC%89"><span class="toc-number">15.4.</span> <span class="toc-text">*** 快速排序（Top1 高频）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F%EF%BC%88%E9%9D%A2%E8%AF%95%E7%BB%8F%E5%B8%B8%E9%97%AE%E2%80%9CTop-K%E2%80%9D%EF%BC%89"><span class="toc-number">15.5.</span> <span class="toc-text">*** 堆排序（面试经常问“Top K”）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F-%E4%B8%8D%E5%A4%AA%E4%BC%9A"><span class="toc-number">15.6.</span> <span class="toc-text">计数排序(不太会)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%B6%E6%8E%92%E5%BA%8F"><span class="toc-number">15.7.</span> <span class="toc-text">桶排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F"><span class="toc-number">15.8.</span> <span class="toc-text">基数排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%EF%BC%88%E5%88%86%E6%B2%BB-%E9%9D%A2%E8%AF%95%E8%83%BD%E9%97%AE%E5%BE%88%E6%B7%B1%EF%BC%89"><span class="toc-number">15.9.</span> <span class="toc-text">*** 归并排序（分治 + 面试能问很深）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F"><span class="toc-number">15.10.</span> <span class="toc-text">希尔排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E9%9D%A2%E5%8D%95%E8%B0%83%E6%A0%88%E7%9A%84%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9C%89%E7%82%B9%E9%97%AE%E9%A2%98%EF%BC%8C%E7%B2%97%E7%9C%8B%E4%BA%86%E4%B8%80%E4%B8%8B%E5%90%8E%E9%9D%A2%E5%87%A0%E4%B8%AA%E9%A2%98%EF%BC%8C%E5%85%88%E4%B8%8D%E6%8C%89%E7%85%A7%E8%BF%99%E9%87%8C%E7%9A%84%E7%AE%97%E6%B3%95%E9%A2%98%E5%A4%8D%E4%B9%A0%E4%BA%86%E5%93%A6%EF%BC%81%E8%BD%AC%E5%8E%BB%E7%93%B6%E5%AD%90%E7%AE%97%E6%B3%95%E9%82%A3%EF%BC%8C%E6%84%9F%E8%A7%89%E6%9B%B4%E5%A5%BD%E6%87%82%E3%80%82"><span class="toc-number">15.11.</span> <span class="toc-text">后面单调栈的代码实现有点问题，粗看了一下后面几个题，先不按照这里的算法题复习了哦！转去瓶子算法那，感觉更好懂。</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%A4%A7%E6%A1%86%E6%9E%B6%E5%92%8Cwebpack%E9%83%A8%E5%88%86%E8%B7%B3%E8%BF%87%EF%BC%8C%E5%86%99%E7%9A%84%E4%B8%8D%E5%A5%BD%E3%80%82"><span class="toc-number">16.</span> <span class="toc-text">三大框架和webpack部分跳过，写的不好。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E5%92%8C%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">17.</span> <span class="toc-text">发布订阅和观察者模式</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        2025年｜前端内参复习
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Arieslx</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-11-23T07:17:59.000Z" itemprop="datePublished">2025-11-23</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/2025/" rel="tag">2025</a>, <a class="tag-link-link" href="/tags/front-end-interview/" rel="tag">front-end-interview</a>, <a class="tag-link-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%86%85%E5%8F%82/" rel="tag">前端内参</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>给自己过知识点看的，查漏补缺，建议看原作。<br><a target="_blank" rel="noopener" href="https://coffe1891.gitbook.io/frontend-hard-mode-interview">前端内参</a></p>
<h2 id="es新特性"><a href="#es新特性" class="headerlink" title="es新特性"></a>es新特性</h2><h3 id="es7"><a href="#es7" class="headerlink" title="es7"></a>es7</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 1. Array.prototype.includes</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="title class_">NaN</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">includes</span>(<span class="title class_">NaN</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">indexOf</span>(<span class="title class_">NaN</span>) != -<span class="number">1</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">includes</span>(<span class="number">1</span>)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 指数运算符</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>**<span class="number">3</span>) <span class="comment">// 8</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="es8"><a href="#es8" class="headerlink" title="es8"></a>es8</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. Object.values</span></span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;<span class="attr">x</span>: <span class="string">&#x27;xxx&#x27;</span>, <span class="attr">y</span>: <span class="string">&#x27;yyy&#x27;</span>&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">values</span>(obj1)</span><br><span class="line"><span class="comment">// [&#x27;xxx&#x27;, &#x27;yyy&#x27;]</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;8&#x27;</span>]</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">values</span>(arr1)</span><br><span class="line"><span class="comment">// [&#x27;e&#x27;, &#x27;s&#x27;, &#x27;8&#x27;]</span></span><br><span class="line"><span class="comment">//当把数字当做对象的键的时候，返回的数组以键的值升序排序</span></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;<span class="number">10</span>: <span class="string">&#x27;xxx&#x27;</span>, <span class="number">2</span>: <span class="string">&#x27;yyy&#x27;</span>, <span class="number">1</span>: <span class="string">&#x27;zzz&#x27;</span>&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">values</span>(obj2)</span><br><span class="line"><span class="comment">// [&#x27;zzz&#x27;, &#x27;yyy&#x27;, &#x27;xxx&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">entries</span>(obj1); <span class="comment">// [[&#x27;x&#x27;, &#x27;xxx&#x27;], [&#x27;y&#x27;, 1]]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">entries</span>(arr1); <span class="comment">// [[&#x27;0&#x27;, &#x27;e&#x27;], [&#x27;1&#x27;, &#x27;s&#x27;], [&#x27;2&#x27;, &#x27;8&#x27;]]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">entries</span>(obj2); <span class="comment">// [[&#x27;1&#x27;, &#x27;yyy&#x27;], [&#x27;3&#x27;, &#x27;zzz&#x27;], [&#x27;10&#x27;, &#x27;xxx&#x27;]]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">entries</span>(<span class="string">&#x27;es8&#x27;</span>); <span class="comment">// [[&#x27;0&#x27;, &#x27;e&#x27;], [&#x27;1&#x27;, &#x27;s&#x27;], [&#x27;2&#x27;, &#x27;8&#x27;]]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [key, value] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(<span class="string">&#x27;es8&#x27;</span>))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> values = <span class="title class_">Object</span>.<span class="title function_">entries</span>(<span class="string">&#x27;es8&#x27;</span>).<span class="title function_">map</span>(<span class="function">(<span class="params">[k, v]</span>) =&gt;</span> v); <span class="comment">// [&#x27;e&#x27;, &#x27;s&#x27;, &#x27;8&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">entries</span>(<span class="string">&#x27;es8&#x27;</span>).<span class="title function_">forEach</span>(<span class="function">(<span class="params">[key, value]</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 字符串追加</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.<span class="title function_">padStart</span>(<span class="number">7</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// &#x27;0000es8&#x27;</span></span><br><span class="line"><span class="string">&#x27;es8&#x27;</span>.<span class="title function_">padEnd</span>(<span class="number">7</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// &#x27;es80000&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. Object.getOwnPropertyDescriptors</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj3 = &#123;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">es8</span>()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptors</span>(obj3)</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   es8: &#123;</span></span><br><span class="line"><span class="comment">//     configurable: true,</span></span><br><span class="line"><span class="comment">//     enumerable: true,</span></span><br><span class="line"><span class="comment">//     get: function es8()&#123;&#125;, //the getter function</span></span><br><span class="line"><span class="comment">//     set: undefined</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 结尾允许逗号</span></span><br><span class="line"><span class="comment">// 5. async/await</span></span><br><span class="line"><span class="comment">// 6. 共享内存和Atomics对象</span></span><br></pre></td></tr></table></figure>

<h3 id="es9"><a href="#es9" class="headerlink" title="es9"></a>es9</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 异步迭代器</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">func</span>(<span class="params">array</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">let</span> i <span class="keyword">of</span> array) &#123;<span class="comment">//异步迭代</span></span><br><span class="line">    <span class="title function_">someFunc</span>(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2. Promise.prototype.finally</span></span><br><span class="line"><span class="comment">// 3. 重新修订了字面量的转义</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">ES9之前，\u表示 unicode 转义，\x表示十六进制转义，\后跟一个数字表示八进制转义，这使得创建特定的字符串变得不可能，例如`Windows文件路径C:\uuu\xxx\111`。</span></span><br><span class="line"><span class="comment">要取消转义序列的语法限制，可在模板字符串之前使用标记函数String.raw。</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="string">`\u&#123;54&#125;`</span> <span class="comment">// 会转义成unicode &quot;T&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">//&gt;&gt; T</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="title class_">String</span>.<span class="property">raw</span><span class="string">`\u&#123;54&#125;`</span>; <span class="comment">// 不会被转义</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str); <span class="comment">// &gt;&gt; \u&#123;54&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. Rest / Spread(扩展运算符和rest参数)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="es10"><a href="#es10" class="headerlink" title="es10"></a>es10</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 1. String.prototype.&#123;trimStart,trimEnd&#125;</span></span><br><span class="line"><span class="comment">// 2. Object.fromEntries</span></span><br><span class="line"><span class="comment">// 3. Array.prototype.&#123;flat,flatMap&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="es11"><a href="#es11" class="headerlink" title="es11"></a>es11</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 1. 可选链</span></span><br><span class="line"><span class="keyword">let</span> second = obj?.<span class="property">first</span>?.<span class="property">second</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. Nullish coalescing Operator(空值处理)</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">0</span>; </span><br><span class="line"><span class="keyword">let</span> v = a ?? <span class="string">&quot;some value&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(v); <span class="comment">//&gt;&gt; 0</span></span><br><span class="line"><span class="comment">// 3. Promise.allSettled</span></span><br><span class="line"><span class="comment">// 4. Bigint</span></span><br><span class="line"><span class="comment">// 5. globalThis</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 立即执行函数怎么递归</span></span><br><span class="line">(<span class="keyword">function</span> (<span class="params">i</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;函数名为&quot;</span>+func.<span class="property">name</span>+<span class="string">&quot;,第&quot;</span>+i+<span class="string">&quot;次调用&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">3</span>)&#123;<span class="comment">//递归出口</span></span><br><span class="line">        <span class="variable language_">arguments</span>.<span class="title function_">callee</span>(++i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="number">1</span>);</span><br><span class="line"><span class="comment">//&gt;&gt; 函数名为func,第1次调用</span></span><br><span class="line"><span class="comment">//&gt;&gt; 函数名为func,第2次调用</span></span><br><span class="line"><span class="comment">//&gt;&gt; 函数名为func,第3次调用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 箭头函数不暴露argument对象</span></span><br><span class="line"><span class="comment">// 箭头函数一个明显作用就是可以保持this的指向，总是指向定义它时所在的上下文环境。最后，箭头函数也没有自己的 super或new.target。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><ol>
<li>this的指向，是在函数被调用的时候确定的，也就是执行上下文被创建时确定的。</li>
<li>this 的指向和函数声明的位置没有任何关系，只取决于函数的调用位置（也即由谁、在什么地方调用这个函数）。</li>
<li>正因为在执行上下文的创建阶段this的指向就已经被确定了，在执行阶段this指向不可再被更改。</li>
<li>this指向最靠近被调用函数的对象。</li>
<li>this显式指向：call、apply、 bind。</li>
</ol>
<h3 id="具体怎么判断好呢？"><a href="#具体怎么判断好呢？" class="headerlink" title="具体怎么判断好呢？"></a>具体怎么判断好呢？</h3><ol>
<li><p>函数是否在new 中被调用（new 操作符指向），如果是的话，this 绑定的是新创建的对象。</p>
</li>
<li><p>函数是否被call、apply、bind 改变过this指向，如果是的话，this 绑定的是改变后的对象。</p>
</li>
<li><p>函数是否被当做某个对象的方法而调用（隐式指向）？如果是的话，this指向的是这个对象。</p>
</li>
<li><p>若以上都不是的话，使用默认绑定。</p>
</li>
<li><p>null或者undefined作为this指向的对象传入call、apply或者bind，这些值在调用时会被忽略，实际应用的是默认指向规则。</p>
</li>
<li><p>this 默认指向window，但是严格模式下this指向undefined。隐式指向之隐式丢失</p>
</li>
<li><p>函数是否被bind改变过this指向，如果是的话，this 绑定的是改变后的对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">func</span>: func &#125;;</span><br><span class="line"><span class="keyword">var</span> p = &#123; <span class="attr">a</span>: <span class="number">4</span> &#125;;</span><br><span class="line">o.<span class="title function_">func</span>(); <span class="comment">//&gt;&gt; 3</span></span><br><span class="line">(p.<span class="property">func</span> = o.<span class="property">func</span>)(); <span class="comment">//&gt;&gt; 2</span></span><br><span class="line"><span class="comment">// 赋值表达式 p.func=o.func 的返回值是目标函数的引用，也就是 func 函数的引用</span></span><br><span class="line"><span class="comment">// 因此调用位置是 func() 而不是 p.func() 或者 o.func()</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>箭头函数的this指向外部函数的this。被绑定之后无法修改。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 返回一个箭头函数</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">a</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//this 继承自 func()</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = func.<span class="title function_">call</span>(obj1);</span><br><span class="line">bar.<span class="title function_">call</span>(obj2); <span class="comment">//&gt;&gt; 2         不是 3 ！</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// func() 内部创建的箭头函数会捕获调用时 func() 的 this。</span></span><br><span class="line"><span class="comment">// 由于 func() 的 this 绑定到 obj1， bar（引用箭头函数）的 this 也会绑定到 obj1，</span></span><br><span class="line"><span class="comment">// this一旦被确定，就不可更改，所以箭头函数的绑定无法被修改。（new 也不行！）</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="call、apply、bind"><a href="#call、apply、bind" class="headerlink" title="call、apply、bind"></a>call、apply、bind</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">func.<span class="title function_">call</span>(thisArg, param1, param2, ...)<span class="comment">//func是个函数</span></span><br><span class="line"></span><br><span class="line">func.<span class="title function_">apply</span>(thisArg, [param1,param2,...])</span><br><span class="line"></span><br><span class="line">func.<span class="title function_">bind</span>(thisArg, param1, param2, ...)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值：</span></span><br><span class="line"><span class="comment">// call / apply：返回func 执行的结果 ；</span></span><br><span class="line"><span class="comment">// bind：返回func的拷贝，并拥有指定的this值和初始参数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 参数：</span></span><br><span class="line"><span class="comment">// thisArg(可选):</span></span><br><span class="line"><span class="comment">// func的this指向thisArg对象；</span></span><br><span class="line"><span class="comment">// 非严格模式下：若thisArg指定为null，undefined，则func的this指向window对象；</span></span><br><span class="line"><span class="comment">// 严格模式下：func的this为undefined；</span></span><br><span class="line"><span class="comment">// 值为原始值(数字，字符串，布尔值)的this会指向该原始值的自动包装对象，如 String、Number、Boolean。</span></span><br><span class="line"><span class="comment">// param1，param2(可选): 传给func的参数。</span></span><br><span class="line"><span class="comment">// 如果param不传或为 null/undefined，则表示不需要传入任何参数.</span></span><br><span class="line"><span class="comment">// apply第二个参数为类数组对象，数组内各项的值为传给func的参数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// *******必须是函数才能调用call/apply/bind</span></span><br><span class="line"><span class="comment">// ***** 类数组 arrayLike 可以通过下标进行调用，具有length属性，同时也可以通过 for 循环进行遍历。</span></span><br><span class="line"><span class="comment">// 但是需要注意的是：类数组无法使用 forEach、splice、push 等数组原型链上的方法</span></span><br><span class="line"><span class="comment">// 获取DOM节点的方法，使用arguments获取到的所有参数</span></span><br><span class="line"><span class="keyword">let</span> domNodes = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;h1&quot;</span>)); <span class="comment">// 把类数组转换成数组 </span></span><br><span class="line"><span class="comment">// 1. 判断数据类型</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isType</span>(<span class="params">data, type</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> typeObj = &#123;</span><br><span class="line">    <span class="string">&quot;[object String]&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Number]&quot;</span>: <span class="string">&quot;number&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Boolean]&quot;</span>: <span class="string">&quot;boolean&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Null]&quot;</span>: <span class="string">&quot;null&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Undefined]&quot;</span>: <span class="string">&quot;undefined&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Object]&quot;</span>: <span class="string">&quot;object&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Array]&quot;</span>: <span class="string">&quot;array&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Function]&quot;</span>: <span class="string">&quot;function&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Date]&quot;</span>: <span class="string">&quot;date&quot;</span>, <span class="comment">// Object.prototype.toString.call(new Date())</span></span><br><span class="line">    <span class="string">&quot;[object RegExp]&quot;</span>: <span class="string">&quot;regExp&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Map]&quot;</span>: <span class="string">&quot;map&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Set]&quot;</span>: <span class="string">&quot;set&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object HTMLDivElement]&quot;</span>: <span class="string">&quot;dom&quot;</span>, <span class="comment">// document.querySelector(&#x27;#app&#x27;)</span></span><br><span class="line">    <span class="string">&quot;[object WeakMap]&quot;</span>: <span class="string">&quot;weakMap&quot;</span>,</span><br><span class="line">    <span class="string">&quot;[object Window]&quot;</span>: <span class="string">&quot;window&quot;</span>, <span class="comment">// Object.prototype.toString.call(window)</span></span><br><span class="line">    <span class="string">&quot;[object Error]&quot;</span>: <span class="string">&quot;error&quot;</span>, <span class="comment">// new Error(&#x27;1&#x27;)</span></span><br><span class="line">    <span class="string">&quot;[object Arguments]&quot;</span>: <span class="string">&quot;arguments&quot;</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> name = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(data); <span class="comment">// 借用Object.prototype.toString()获取数据类型</span></span><br><span class="line">  <span class="keyword">let</span> typeName = typeObj[name] || <span class="string">&quot;未知类型&quot;</span>; <span class="comment">// 匹配数据类型</span></span><br><span class="line">  <span class="keyword">return</span> typeName === type; <span class="comment">// 判断该数据类型是否为传入的类型</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">  <span class="title function_">isType</span>(&#123;&#125;, <span class="string">&quot;object&quot;</span>), <span class="comment">//&gt;&gt; true</span></span><br><span class="line">  <span class="title function_">isType</span>([], <span class="string">&quot;array&quot;</span>), <span class="comment">//&gt;&gt; true</span></span><br><span class="line">  <span class="title function_">isType</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(), <span class="string">&quot;object&quot;</span>), <span class="comment">//&gt;&gt; false</span></span><br><span class="line">  <span class="title function_">isType</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(), <span class="string">&quot;date&quot;</span>) <span class="comment">//&gt;&gt; true</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 类数组对象</span></span><br><span class="line"><span class="keyword">var</span> arrayLike = &#123;</span><br><span class="line">  <span class="number">0</span>: <span class="string">&quot;OB&quot;</span>,</span><br><span class="line">  <span class="number">1</span>: <span class="string">&quot;Koro1&quot;</span>,</span><br><span class="line">  <span class="attr">length</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span>.<span class="title function_">call</span>(arrayLike, <span class="string">&quot;添加数组项1&quot;</span>, <span class="string">&quot;添加数组项2&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrayLike);</span><br><span class="line"><span class="comment">//&gt;&gt; &#123;&quot;0&quot;:&quot;OB&quot;,&quot;1&quot;:&quot;Koro1&quot;,&quot;2&quot;:&quot;添加数组项1&quot;,&quot;3&quot;:&quot;添加数组项2&quot;,&quot;length&quot;:4&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 获取数组中的最大值和最小值</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">15</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">16</span>];</span><br><span class="line"><span class="keyword">const</span> max = <span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="title class_">Math</span>, arr); <span class="comment">// 16</span></span><br><span class="line"><span class="keyword">const</span> min = <span class="title class_">Math</span>.<span class="property">min</span>.<span class="title function_">apply</span>(<span class="title class_">Math</span>, arr); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<h3 id="call、apply应该用哪个？"><a href="#call、apply应该用哪个？" class="headerlink" title="call、apply应该用哪个？"></a>call、apply应该用哪个？</h3><p>call,apply的效果完全一样，它们的区别也在于<br>参数数量/顺序确定就用call，参数数量/顺序不确定的话就用apply。<br>考虑可读性：参数数量不多就用call，参数数量比较多的话，把参数整合成数组，使用apply。<br>参数集合已经是一个数组的情况，用apply，比如上文的获取数组最大值/最小值。</p>
<p>插一嘴： ** 页面通信，一般传递回调函数的时候会容易丢失this的值。</p>
<h3 id="手写call、bind、apply"><a href="#手写call、bind、apply" class="headerlink" title="手写call、bind、apply"></a>手写call、bind、apply</h3><h3 id="实现apply-call-bind"><a href="#实现apply-call-bind" class="headerlink" title="实现apply/call/bind"></a>实现apply/call/bind</h3><h3 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. 用原生JavaScript实现apply</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myApply</span> = <span class="keyword">function</span>(<span class="params">thisArg</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (thisArg === <span class="literal">null</span> || thisArg === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    thisArg = <span class="variable language_">window</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    thisArg = <span class="title class_">Object</span>(thisArg);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//判断是否为【类数组对象】</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">isArrayLike</span>(<span class="params">o</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      o &amp;&amp; <span class="comment">// o不是null、undefined等</span></span><br><span class="line">      <span class="keyword">typeof</span> o === <span class="string">&quot;object&quot;</span> &amp;&amp; <span class="comment">// o是对象</span></span><br><span class="line">      <span class="built_in">isFinite</span>(o.<span class="property">length</span>) &amp;&amp; <span class="comment">// o.length是有限数值</span></span><br><span class="line">      o.<span class="property">length</span> &gt;= <span class="number">0</span> &amp;&amp; <span class="comment">// o.length为非负值</span></span><br><span class="line">      o.<span class="property">length</span> === <span class="title class_">Math</span>.<span class="title function_">floor</span>(o.<span class="property">length</span>) &amp;&amp; <span class="comment">// o.length是整数</span></span><br><span class="line">      o.<span class="property">length</span> &lt; <span class="number">4294967296</span></span><br><span class="line">    )</span><br><span class="line">      <span class="comment">// o.length &lt; 2^32</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> specialMethod = <span class="title class_">Symbol</span>(<span class="string">&quot;anything&quot;</span>);</span><br><span class="line">  thisArg[specialMethod] = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> args = <span class="variable language_">arguments</span>[<span class="number">1</span>]; <span class="comment">// 获取参数数组</span></span><br><span class="line">  <span class="keyword">let</span> result;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 处理传进来的第二个参数</span></span><br><span class="line">  <span class="keyword">if</span> (args) &#123;</span><br><span class="line">    <span class="comment">// 是否传递第二个参数</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(args) &amp;&amp; !<span class="title function_">isArrayLike</span>(args)) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(</span><br><span class="line">        <span class="string">&quot;第二个参数既不为数组，也不为类数组对象。抛出错误&quot;</span></span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      args = <span class="title class_">Array</span>.<span class="title function_">from</span>(args); <span class="comment">// 转为数组</span></span><br><span class="line">      result = thisArg[specialMethod](...args); <span class="comment">// 执行函数并展开数组，传递函数参数</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    result = thisArg[specialMethod]();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> thisArg[specialMethod];</span><br><span class="line">  <span class="keyword">return</span> result; <span class="comment">// 返回函数执行结果</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 用原生JavaScript实现apply</span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">apply</span> = <span class="keyword">function</span>(<span class="params">thisArg, argsArray</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;Function.prototype.apply called on non-function&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(thisArg === <span class="literal">undefined</span> || thisArg === <span class="literal">null</span>)&#123;</span><br><span class="line">    thisArg = <span class="variable language_">window</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    thisArg = <span class="title class_">Object</span>(thisArg)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> func = <span class="title class_">Symbol</span>(<span class="string">&#x27;func&#x27;</span>);</span><br><span class="line">  thisArg[func] = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(argArray &amp;&amp; <span class="keyword">typeof</span> argArray === <span class="string">&#x27;obejct&#x27;</span> &amp;&amp; <span class="string">&#x27;length&#x27;</span> <span class="keyword">in</span> argsArray)&#123;</span><br><span class="line">    result = thisArg[func](...<span class="title class_">Array</span>.<span class="title function_">from</span>(argsArray))</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(argsArray &amp;&amp; <span class="literal">undefined</span> || argsArray === <span class="literal">null</span>)&#123;</span><br><span class="line">    result = thisArg[func]()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;argsArray must be an array-like object&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> <span class="title function_">thisArg</span>(func)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="call"><a href="#call" class="headerlink" title="call"></a>call</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">call</span> = <span class="keyword">function</span>(<span class="params">thisArg, ...argsArray</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;function.prototype.call called on non-function&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(thisArg === <span class="literal">undefined</span> || thisArg === <span class="literal">null</span>)&#123;</span><br><span class="line">    thisArg = <span class="variable language_">window</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    thisArg = <span class="title class_">Object</span>(thisArg)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> func = <span class="title class_">Symbol</span>(<span class="string">&#x27;func&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  thisArg[func] = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result;</span><br><span class="line">  <span class="keyword">if</span>(argsArray.<span class="property">length</span>)&#123;</span><br><span class="line">    result = thisArg[func](...argsArray)</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    result = thisArg[func]()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> thisArg[func];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h3><h4 id="常见面试题"><a href="#常见面试题" class="headerlink" title="常见面试题"></a>常见面试题</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params">i</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">  &#125;.<span class="title function_">bind</span>(<span class="literal">null</span>, i), i*<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">bind</span> = <span class="keyword">function</span>(<span class="params">thisArg, ...argsArray</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;function.prototype.bind called on non-function&#x27;</span>)</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(thisArg === <span class="literal">undefined</span> || thisArg === <span class="literal">null</span>)&#123;</span><br><span class="line">    thisArg = <span class="variable language_">window</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    thisArg = <span class="title class_">Object</span>(thisArg)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> func = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> bound = <span class="keyword">function</span>(<span class="params">...boundArgsArray</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> isNew = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">      isNew = <span class="variable language_">this</span> <span class="keyword">instanceof</span> func;</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> func.<span class="title function_">apply</span>(isNew ? <span class="attr">this</span>: thisArg, argsArray.<span class="title function_">concat</span>(boundArgsArray))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title class_">Empty</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">  <span class="title class_">Empty</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="variable language_">this</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line">  bound.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Empty</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> bound;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用原生JavaScript实现bind</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myBind</span> = <span class="keyword">function</span>(<span class="params">objThis, ...params</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> thisFn = <span class="variable language_">this</span>;<span class="comment">//存储调用函数，以及上方的params(函数参数)</span></span><br><span class="line">  <span class="comment">//对返回的函数 secondParams 二次传参</span></span><br><span class="line">  <span class="keyword">let</span> funcForBind = <span class="keyword">function</span>(<span class="params">...secondParams</span>) &#123;</span><br><span class="line">    <span class="comment">//检查this是否是funcForBind的实例？也就是检查funcForBind是否通过new调用</span></span><br><span class="line">    <span class="keyword">const</span> isNew = <span class="variable language_">this</span> <span class="keyword">instanceof</span> funcForBind;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//new调用就绑定到this上,否则就绑定到传入的objThis上</span></span><br><span class="line">    <span class="keyword">const</span> thisArg = isNew ? <span class="variable language_">this</span> : <span class="title class_">Object</span>(objThis);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用call执行调用函数，绑定this的指向，并传递参数。返回执行结果</span></span><br><span class="line">    <span class="keyword">return</span> thisFn.<span class="title function_">call</span>(thisArg, ...params, ...secondParams);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//复制调用函数的prototype给funcForBind</span></span><br><span class="line">  funcForBind.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(thisFn.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line">  <span class="keyword">return</span> funcForBind;<span class="comment">//返回拷贝的函数</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myBind1</span> = <span class="keyword">function</span>(<span class="params">thisArg, ...args</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&quot;function&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;is not callable&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(thisArg === <span class="literal">undefined</span> || thisArg === <span class="literal">null</span>)&#123;</span><br><span class="line">        thisArg = <span class="variable language_">window</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        thisArg = <span class="title class_">Object</span>(thisArg)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> funcSym = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> functionForBind = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">       <span class="keyword">return</span> thisArg.<span class="title function_">apply</span>(funcSym, ...args, ...<span class="variable language_">arguments</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    functionForBind.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(thisArg.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> functionForBind</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="javascript手写call，apply，bind函数，尤其是bind函数"><a href="#javascript手写call，apply，bind函数，尤其是bind函数" class="headerlink" title="javascript手写call，apply，bind函数，尤其是bind函数"></a>javascript手写call，apply，bind函数，尤其是bind函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myCall</span> = <span class="keyword">function</span>(<span class="params">thisArg, ...arr</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(thisArg === <span class="literal">null</span> || thisArg === <span class="literal">undefined</span>)&#123;</span><br><span class="line">    thisArg = <span class="variable language_">window</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    thisArg = <span class="title class_">Object</span>(thisArg);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> specialMethod = <span class="title class_">Symbol</span>(<span class="string">&#x27;anything&#x27;</span>);</span><br><span class="line">  thisArg[specialMethod] = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">let</span> result = thisArg[specialMethod](...arr);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> thisArg[specialMethod];</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;coffe1891&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func.<span class="title function_">myCall</span>(obj)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myApply</span> = <span class="keyword">function</span>(<span class="params">thisArg</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(thisArg === <span class="literal">null</span> || thisArg === <span class="literal">undefined</span>)&#123;</span><br><span class="line">    thisArg = <span class="variable language_">window</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    thisArg = <span class="title class_">Object</span>(thisArg)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">isArrayLike</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(o &amp;&amp; <span class="keyword">typeof</span> o === <span class="string">&quot;object&quot;</span> &amp;&amp; <span class="built_in">isFinite</span>(o.<span class="property">length</span>) &amp;&amp; o.<span class="property">length</span> &gt;= <span class="number">0</span> &amp;&amp; o.<span class="property">length</span> === <span class="title class_">Math</span>.<span class="title function_">floor</span>(o.<span class="property">length</span>) &amp;&amp; o.<span class="property">length</span> &lt; <span class="number">4294967296</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> specialMethod = <span class="title class_">Symbol</span>(<span class="string">&quot;anything&quot;</span>)</span><br><span class="line">  thisArg[specialMethod] = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> args = <span class="variable language_">arguments</span>[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">let</span> result;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(args)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(args) &amp;&amp; !<span class="title function_">isArrayLike</span>(args))&#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;args must be an array-like object&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">      args = <span class="title class_">Array</span>.<span class="title function_">from</span>(args);</span><br><span class="line">      result = thisArg[specialMethod](...args);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    result = thisArg[speacialMethod]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">delete</span> thisArg[specialMethod]</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myBind</span> = <span class="keyword">function</span>(<span class="params">objThis, ...params</span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> thisFn = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">let</span> funcForBind = <span class="keyword">function</span>(<span class="params">...secondParams</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> isNew = <span class="variable language_">this</span> <span class="keyword">instanceof</span> funcForBind;</span><br><span class="line">    <span class="keyword">const</span> thisArg = isNew ? <span class="variable language_">this</span> : objThis;</span><br><span class="line">    <span class="keyword">return</span> thisFn.<span class="title function_">call</span>(thisArg, ...params, ...secondParams)</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  funcForBind.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(thisFn.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line">  <span class="keyword">return</span> funcForBind;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> func = <span class="keyword">function</span>(<span class="params">p,secondParams</span>)&#123;<span class="comment">//其实测试用的func其参数可以是任意多个</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(secondParams);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;1891&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">func.<span class="title function_">myBind</span>(obj,&#123;<span class="attr">name</span>:<span class="string">&quot;coffe&quot;</span>&#125;)(<span class="string">&quot;二次传参&quot;</span>);</span><br><span class="line"><span class="comment">//&gt;&gt; coffe</span></span><br><span class="line"><span class="comment">//&gt;&gt; 1891</span></span><br><span class="line"><span class="comment">//&gt;&gt; 二次传参</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> report = (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> imgs = [];<span class="comment">//在内存里持久化</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">src</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">        imgs.<span class="title function_">push</span>(img);<span class="comment">//引用局部变量imgs</span></span><br><span class="line">        img.<span class="property">src</span> = src;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="title function_">report</span>(<span class="string">&#x27;http://www.xxx.com/getClientInfo&#x27;</span>);<span class="comment">//把客户端信息上报数据</span></span><br></pre></td></tr></table></figure>

<h2 id="原型和原型链"><a href="#原型和原型链" class="headerlink" title="原型和原型链"></a>原型和原型链</h2><ul>
<li>ES6实现的继承，本质仍是基于原型和原型链。一般函数有prototype属性。</li>
<li>每个对象(实例)都有一个属性<strong>proto</strong>，指向他的构造函数（constructor）的prototype属性。</li>
<li>一个对象的原型就是它的构造函数的prototype属性的值，因此<strong>proto</strong>也即原型的代名词。</li>
<li>对象的<strong>proto</strong>也有自己的<strong>proto</strong>，层层向上，直到<strong>proto</strong>为null。换句话说，原型本身也有自己的原型。这种由原型层层链接起来的数据结构称为原型链。因为null不再有原型，所以原型链的末端是null。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> b=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//a的构造函数是「Function函数」</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">__proto__</span> == <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>);<span class="comment">//&gt;&gt; true</span></span><br><span class="line"><span class="comment">//b的构造函数是「Array函数」</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="property">__proto__</span> == <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>);<span class="comment">//&gt;&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//因为「Function函数」和「Array函数」又都是对象，其构造函数</span></span><br><span class="line"><span class="comment">//是「Object函数」，所以，a和b的原型的原型都是Object.prototype</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">__proto__</span>.<span class="property">__proto__</span> === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>);<span class="comment">//&gt;&gt; true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="property">__proto__</span>.<span class="property">__proto__</span> === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>);<span class="comment">//&gt;&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Object作为顶级对象的构造函数，它实例的原型本身就不再有原型了，因此它原型</span></span><br><span class="line"><span class="comment">//的__proto__属性为null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Object</span>().<span class="property">__proto__</span>.<span class="property">__proto__</span>);<span class="comment">//&gt;&gt; null</span></span><br><span class="line"><span class="comment">//也即Object类型对象，其原型（Object.prototype）的__proto__为null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span>);<span class="comment">//&gt;&gt; null</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用最新的方法Object.setPrototypeOf（类似Reflect.setPrototypeOf）可以很方便地给对象设置原型，这个对象会继承该原型所有属性和方法。</li>
<li>但是，setPrototypeOf的性能很差，我们应该尽量使用 Object.create()来为某个对象设置原型。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//obj的原型是Object.prototype</span></span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    <span class="title function_">methodA</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;coffe&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newObj = <span class="title class_">Object</span>.<span class="title function_">create</span>(obj);<span class="comment">//以obj为原型创建一个新的对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//methodA实际上是newObj原型对象obj上的方法。也即newObj继承了它的原型对象obj的属性和方法。</span></span><br><span class="line">newObj.<span class="title function_">methodA</span>();<span class="comment">//&gt;&gt; coffe</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">A===A.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span>;<span class="comment">//&gt;&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">toValue</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">A.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="title function_">toString</span>(<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="title function_">toValue</span>(<span class="params"></span>) &#123;&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>class 作为构造函数的语法糖，同时有prototype属性和<strong>proto</strong>属性，因此同时存在两条继承链。</p>
<ol>
<li>子类的<strong>proto</strong>属性，表示构造函数的继承，总是指向父类。</li>
<li>子类prototype属性的<strong>proto</strong>属性，表示方法的继承，总是指向父类的prototype属性。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_ inherited__">A</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B.<span class="property">__proto__</span> === A <span class="comment">//&gt;&gt; true</span></span><br><span class="line">B.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === A.<span class="property"><span class="keyword">prototype</span></span> <span class="comment">//&gt;&gt; true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1：使用 in 操作符（检查原型链）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;methodA&quot;</span> <span class="keyword">in</span> newObj); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法2：直接调用方法（如果存在）</span></span><br><span class="line"><span class="keyword">if</span> (newObj.<span class="property">methodA</span>) &#123;</span><br><span class="line">    newObj.<span class="title function_">methodA</span>(); <span class="comment">// &quot;coffe&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法3：检查原型对象</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(newObj).<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;methodA&quot;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="线程，EventLoop"><a href="#线程，EventLoop" class="headerlink" title="线程，EventLoop"></a>线程，EventLoop</h2><ol start="2">
<li>浏览器的线程<br>JS引擎是单线程的，但是浏览器是多线程的。现代浏览器的一个 tab ，其中的线程包括但不局限于：<br>GUI 渲染线程<br>JS引擎线程<br>事件触发线程<br>定时器触发线程<br>异步http请求线程<br>JavaScript中的异步回调是通过 WebAPIs 去支持的，常见的有 XMLHttpRequest，setTimeout，事件回调（onclik, onscroll等）。而这几个 API 浏览器都提供了单独的线程去运行，所以才会有合适的地方去处理定时器的计时、各种请求的回调。即当代码中出现这几个定义的异步任务，是由浏览器实现了它们与JS引擎的通信，与JS引擎不在同一个线程。<br>另外，GUI 渲染和JavaScript执行是互斥的。虽然两者属于不同的线程，但是由于JavaScript执行结果可能会对页面产生影响，所以浏览器对此做了处理，大部分情况下JavaScript线程执行，执行渲染（render）的线程就会暂停，JavaScript的同步代码执行完再去渲染。</li>
</ol>
<p>Event Loop的作用很简单： 监控调用栈和任务队列，如果调用栈是空的，它就会取出队列中的第一个”callback函数”，然后将它压入到调用栈中，然后执行它。<br>总的来说，Event Loop 是实现异步回调的一种机制而已。</p>
<p>微任务队列一次只有一个，先清空微任务队列再做宏任务队列，然后微任务又进来，又继续清空微任务队列。微任务队列：promise等。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 执行顺序问题，考察频率挺高</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="number">3</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(val);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2, 4, 3, 1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><h3 id="for，forEach，map"><a href="#for，forEach，map" class="headerlink" title="for，forEach，map"></a>for，forEach，map</h3><p>如果使用箭头函数表达式来传入thisArg 参数会被忽略，因为箭头函数在词法上绑定了<code>this</code>值。<br>for循环满足特定条件时跳出循环体，或者跳出本次循环直接进入下一次循环。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="comment">// 当迭代变量 i == 3 时，跳过此次循环直接进入下一次</span></span><br><span class="line">  <span class="keyword">if</span> (i == <span class="number">3</span>) <span class="keyword">continue</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[i]);</span><br><span class="line">  <span class="comment">// 当 i &gt; 7 时，跳出循环</span></span><br><span class="line">  <span class="keyword">if</span> (i &gt; <span class="number">7</span>) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//&gt;&gt; 0</span></span><br><span class="line"><span class="comment">//&gt;&gt; 1</span></span><br><span class="line"><span class="comment">//&gt;&gt; 2</span></span><br><span class="line"><span class="comment">//&gt;&gt; 4</span></span><br><span class="line"><span class="comment">//&gt;&gt; 5</span></span><br><span class="line"><span class="comment">//&gt;&gt; 6</span></span><br><span class="line"><span class="comment">//&gt;&gt; 7</span></span><br><span class="line"><span class="comment">//&gt;&gt; 8</span></span><br></pre></td></tr></table></figure>

<h3 id="for-in-amp-for-of"><a href="#for-in-amp-for-of" class="headerlink" title="for..in &amp; for..of"></a>for..in &amp; for..of</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getLength</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">arr.<span class="property">name</span> = <span class="string">&quot;coffe1981&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;-------for...of--------&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> value <span class="keyword">of</span> arr) &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;-------for...in--------&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> arr) &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//&gt;&gt;    -------for...of--------</span></span><br><span class="line"><span class="comment">//&gt;&gt;    1</span></span><br><span class="line"><span class="comment">//&gt;&gt;    2</span></span><br><span class="line"><span class="comment">//&gt;&gt;    4</span></span><br><span class="line"><span class="comment">//&gt;&gt;    5</span></span><br><span class="line"><span class="comment">//&gt;&gt;    6</span></span><br><span class="line"><span class="comment">//&gt;&gt;    7</span></span><br><span class="line"><span class="comment">//&gt;&gt;    -------for...in--------</span></span><br><span class="line"><span class="comment">//&gt;&gt;    0</span></span><br><span class="line"><span class="comment">//&gt;&gt;    1</span></span><br><span class="line"><span class="comment">//&gt;&gt;    2</span></span><br><span class="line"><span class="comment">//&gt;&gt;    3</span></span><br><span class="line"><span class="comment">//&gt;&gt;    4</span></span><br><span class="line"><span class="comment">//&gt;&gt;    5</span></span><br><span class="line"><span class="comment">//&gt;&gt;    name</span></span><br><span class="line"><span class="comment">//&gt;&gt;    getLength</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//for..of适用遍历数组/类数组对象/字符串/map/set等拥有迭代器对象的集合，但是不能遍历对象，因为没有迭代器对象。遍历对象通常用for...in来遍历对象的键名。</span></span><br><span class="line"><span class="comment">//与forEach不同的是，for...of和for...in都可以正确响应break、continue和return语句。</span></span><br></pre></td></tr></table></figure>

<h3 id="filter-find-some-sort-reduce"><a href="#filter-find-some-sort-reduce" class="headerlink" title="filter,find,some,sort,reduce"></a>filter,find,some,sort,reduce</h3><h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><p><code>initialValue</code>可选作为第一次调用<code>callback</code>函数时的第一个参数的值。 如果没有提供初始值，则将使用数组中的第一个元素（也即针对数组的arr循环计算少一次，千万要注意这点）。 在没有初始值的空数组上调用<code>reduce</code>将报错。</p>
<p>数组—-&gt;对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr  = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">username</span>:    <span class="string">&#x27;makai&#x27;</span>,</span><br><span class="line">        <span class="attr">displayname</span>: <span class="string">&#x27;馆长&#x27;</span>,</span><br><span class="line">        <span class="attr">email</span>:       <span class="string">&#x27;guanzhang@coffe1891.com&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">username</span>:    <span class="string">&#x27;xiaoer&#x27;</span>,</span><br><span class="line">        <span class="attr">displayname</span>: <span class="string">&#x27;小二&#x27;</span>,</span><br><span class="line">        <span class="attr">email</span>:       <span class="string">&#x27;xiaoer@coffe1891.com&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">username</span>:    <span class="string">&#x27;zhanggui&#x27;</span>,</span><br><span class="line">        <span class="attr">displayname</span>: <span class="string">&#x27;掌柜&#x27;</span>,</span><br><span class="line">        <span class="attr">email</span>:       <span class="literal">null</span></span><br><span class="line">    &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cb1</span>(<span class="params">acc, person</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;...acc, [person.<span class="property">username</span>]: person&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj = arr.<span class="title function_">reduce</span>(cb1, &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emptyArray = [];</span><br><span class="line"><span class="keyword">const</span> result = emptyArray.<span class="title function_">reduce</span>(<span class="function">(<span class="params">acc, curr</span>) =&gt;</span> acc + curr, <span class="number">0</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// 输出: 0</span></span><br><span class="line"><span class="keyword">const</span> result1 = emptyArray.<span class="title function_">reduce</span>(<span class="function">(<span class="params">acc, curr</span>) =&gt;</span> acc + curr);</span><br><span class="line"><span class="comment">// 报错：TypeError: Reduce of empty array with no initial value</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arrA = [<span class="number">0.3</span>, <span class="number">1.2</span>, <span class="number">3.4</span>, <span class="number">0.2</span>, <span class="number">3.2</span>, <span class="number">5.5</span>, <span class="number">0.4</span>];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">callback</span>(<span class="params">acc, reading</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">minReading</span>: <span class="title class_">Math</span>.<span class="title function_">min</span>(acc.<span class="property">minReading</span>, reading),</span><br><span class="line">        <span class="attr">maxReading</span>: <span class="title class_">Math</span>.<span class="title function_">max</span>(acc.<span class="property">maxReading</span>, reading),</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> initMinMax = &#123;</span><br><span class="line">    <span class="attr">minReading</span>: <span class="title class_">Number</span>.<span class="property">MAX_VALUE</span>,</span><br><span class="line">    <span class="attr">maxReading</span>: <span class="title class_">Number</span>.<span class="property">MIN_VALUE</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> result = arrA.<span class="title function_">reduce</span>(callback, initMinMax);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line"><span class="comment">//&gt;&gt; &#123;minReading: 0.2, maxReading: 5.5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr8 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sum1 = arr8.<span class="title function_">reduce</span>(<span class="function">(<span class="params">acc, cur</span>) =&gt;</span> acc + cur,<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h2 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h2><p>缺点：</p>
<ul>
<li>会忽略<code>undefined</code>；</li>
<li>会忽略<code>symbol</code>；</li>
<li>如果对象的属性为<code>Function</code>，因为JSON格式字符串不支持<code>Function</code>，在序列化的时候会自动删除；</li>
<li>诸如 <code>Map</code>, <code>Set</code>, <code>RegExp</code>, <code>Date</code>, <code>ArrayBuffer</code>和其他内置类型在进行序列化时会丢失；</li>
<li>不支持循环引用对象的拷贝。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">x</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">let</span> b = <span class="title class_">JSON</span>.<span class="title function_">sringiy</span>(a)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>缺点：<br>对象嵌套层次超过2层，就会出现浅拷贝的状况；<br>非可枚举的属性无法被拷贝。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">x</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">let</span> b = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, a)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>缺点：<br>这个方法是异步的；<br>拷贝有函数的对象时，还是会报错。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 有undefined + 循环引用</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">d</span>: <span class="number">3</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">f</span>: <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="property">c</span> = obj.<span class="property">b</span>;</span><br><span class="line">obj.<span class="property">e</span> = obj.<span class="property">a</span>;</span><br><span class="line">obj.<span class="property">b</span>.<span class="property">c</span> = obj.<span class="property">c</span>;</span><br><span class="line">obj.<span class="property">b</span>.<span class="property">d</span> = obj.<span class="property">b</span>;</span><br><span class="line">obj.<span class="property">b</span>.<span class="property">e</span> = obj.<span class="property">b</span>.<span class="property">c</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;port1, port2&#125; = <span class="keyword">new</span> <span class="title class_">MessageChannel</span>();</span><br><span class="line">    port2.<span class="property">onmessage</span> = <span class="function"><span class="params">ev</span> =&gt;</span> <span class="title function_">resolve</span>(ev.<span class="property">data</span>);</span><br><span class="line">    port1.<span class="title function_">postMessage</span>(obj);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">deepClone</span>(obj).<span class="title function_">then</span>(<span class="function">(<span class="params">copy</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> copyObj = copy;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(copyObj, obj)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(copyObj == obj)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 循环引用的深拷贝</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj, parent = <span class="literal">null</span></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> result = &#123;&#125;;</span><br><span class="line">  <span class="keyword">let</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj),</span><br><span class="line">      key = <span class="literal">null</span>,</span><br><span class="line">      temp = <span class="literal">null</span>,</span><br><span class="line">      _parent = parent;</span><br><span class="line">  <span class="keyword">while</span>(_parent)&#123;</span><br><span class="line">    <span class="keyword">if</span>(_parent.<span class="property">originalParent</span> === obj)&#123;</span><br><span class="line">      <span class="keyword">return</span> _parent.<span class="property">currentParent</span></span><br><span class="line">    &#125;</span><br><span class="line">    _parent = _parent.<span class="property">parent</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;keys.<span class="property">length</span>; i++)&#123;</span><br><span class="line">    key = keys[i];</span><br><span class="line">    temp = obj[key]</span><br><span class="line">    <span class="keyword">if</span>(temp &amp;&amp; <span class="keyword">typeof</span> temp === <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">      result[key] = <span class="title function_">deepClone</span>(temp, &#123;</span><br><span class="line">        <span class="attr">originalParent</span>: obj,</span><br><span class="line">        <span class="attr">currentParent</span>: result,</span><br><span class="line">        <span class="attr">parent</span>: parent</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      result[key] = temp</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">WeakMap</span>();</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">dp</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">let</span> keys = <span class="literal">null</span>,</span><br><span class="line">    key = <span class="literal">null</span>,</span><br><span class="line">    temp = <span class="literal">null</span>,</span><br><span class="line">    existsObj = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    existObj = map.<span class="title function_">get</span>(obj)</span><br><span class="line">    <span class="keyword">if</span>(existObj)&#123;</span><br><span class="line">      reurn existObj</span><br><span class="line">    &#125;</span><br><span class="line">    keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj);</span><br><span class="line">    result = &#123;&#125;;</span><br><span class="line">    map.<span class="title function_">set</span>(obj, result);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;keys.<span class="property">length</span>; i++)&#123;</span><br><span class="line">      key = keys[i];</span><br><span class="line">      temp = obj[key];</span><br><span class="line">      <span class="keyword">if</span>(temp &amp;&amp; <span class="keyword">typeof</span> temp === <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">        result[key] = <span class="title function_">dp</span>(temp)</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        result[key] = temp;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="title function_">dp</span>(obj)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 终极方案是lodash的_.cloneDeep。</span></span><br><span class="line"><span class="title function_">_cloneDeep</span>(&#123;<span class="attr">xx</span>:<span class="number">11</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="柯里化"><a href="#柯里化" class="headerlink" title="柯里化"></a>柯里化</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bind的柯里化</span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">bind</span> = <span class="keyword">function</span>(<span class="params">context</span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> _this = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">let</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> _this.<span class="title function_">apply</span>(context, args)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>给定一个函数fn，设计一个通用封装（currying函数）作用于这个fn，让这个fn可以支持柯里化，该怎么实现呢？思路：</p>
<p>要让fn(a,b)等价于fn(a)(b)，那么fn(a)要返回一个函数，这个函数接受参数b，并返回与fn(a,b)相同的结果。</p>
<p>设计一个currying函数，它接受第一个参数是要被柯里化的函数fn，第2~N个参数是原本要传递给fn的参数（这个可用rest操作符实现）。</p>
<p>柯里化主要围绕“处理参数”思考，不管怎么变化传参形式，柯里化之后的函数要把之前函数的参数都统统处理完毕才算合格。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> promaryCurrying = <span class="keyword">function</span>(<span class="params">fn, length</span>)&#123;</span><br><span class="line"></span><br><span class="line">  length = length || fn.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args2</span>)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(args2.<span class="property">length</span> &lt; length)&#123;</span><br><span class="line">      <span class="keyword">var</span> combinedArgs = [fn].<span class="title function_">concat</span>(args2)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">curry</span>(primaryCurrying.<span class="title function_">apply</span>(<span class="variable language_">this</span>, coombinedArgs), length - args2.<span class="property">length</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args2)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 借用之前的初步柯里化函数，让柯里化后的函数fn有多1段的能力。</span></span><br><span class="line"><span class="keyword">var</span> primaryCurrying = <span class="keyword">function</span> (<span class="params">fn,...args</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args2</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> newArgs = args.<span class="title function_">concat</span>(args2);</span><br><span class="line">        <span class="keyword">return</span> fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, newArgs);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 设计真正的柯里化函数。</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> fn     即将被柯里化的函数。</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> length 用来记录fn应该处理的剩余参数的长度。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">curry</span>(<span class="params">fn, length</span>) &#123;</span><br><span class="line">    length = length || fn.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args2</span>) &#123;</span><br><span class="line">        <span class="comment">//若原本要传给fn的参数还未传完</span></span><br><span class="line">        <span class="keyword">if</span> (args2.<span class="property">length</span> &lt; length) &#123;</span><br><span class="line">            <span class="comment">//合并参数</span></span><br><span class="line">            <span class="keyword">var</span> combinedArgs = [fn].<span class="title function_">concat</span>(args2);</span><br><span class="line">            <span class="comment">//递归，进一步柯里化。这里调用了primaryCurrying函数，每调用一次该函数，</span></span><br><span class="line">            <span class="comment">//就可以多“1段”以便可以处理掉剩余的参数，直到把所有应传给fn的参数都处理完。</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">curry</span>(primaryCurrying.<span class="title function_">apply</span>(<span class="variable language_">this</span>, combinedArgs), length - args2.<span class="property">length</span>);</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="comment">//若原本要传给fn的参数都已经传完，则直接执行fn函数</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>// 实现一个add方法，使计算结果能够满足如下预期：<br>add(1)(2)(3) = 6;<br>add(1, 2, 3)(4) = 10;<br>add(1)(2)(3)(4)(5) = 15;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> _args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">  <span class="keyword">var</span> _addr = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    _args.<span class="title function_">push</span>(...<span class="variable language_">arguments</span>)</span><br><span class="line">    <span class="keyword">return</span> _addr;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _adder.<span class="property">toString</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> _args.<span class="title function_">reduce</span>(<span class="keyword">function</span> (<span class="params">acc, cur</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> acc + cur;</span><br><span class="line">    &#125;, <span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> _adder;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="reflect和proxy"><a href="#reflect和proxy" class="headerlink" title="reflect和proxy"></a>reflect和proxy</h2><p>eval就是元编程，只是现在不让用了。</p>
<h3 id="数据绑定和响应式"><a href="#数据绑定和响应式" class="headerlink" title="数据绑定和响应式"></a>数据绑定和响应式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createReactive</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Proxy</span>(obj, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target, prop</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;reading&#x27;</span>+ prop)</span><br><span class="line">      <span class="keyword">return</span> target[prop]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">target, prop, value</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setting&#x27;</span>, value)</span><br><span class="line">      target[prop] = value;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = <span class="title function_">createReactive</span>(&#123; <span class="attr">count</span>: <span class="number">0</span> &#125;);</span><br><span class="line">data.<span class="property">count</span>;</span><br><span class="line">data.<span class="property">count</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="日志记录"><a href="#日志记录" class="headerlink" title="日志记录"></a>日志记录</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createLoggingProxy</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Proxy</span>(obj, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target, prop</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get&#x27;</span>, [prop])</span><br><span class="line">      <span class="keyword">return</span> target[prop]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">target, prop, value</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`setting <span class="subst">$&#123;prop&#125;</span> = <span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, prop, value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="权限控制"><a href="#权限控制" class="headerlink" title="权限控制"></a>权限控制</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createSecureProxy</span>(<span class="params">obj, allowedProps</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Proxy</span>(obj, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target, prop</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(allowedProps.<span class="title function_">includes</span>(prop))&#123;</span><br><span class="line">        <span class="keyword">return</span> target[prop]</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`Not allowed to access <span class="subst">$&#123;prop&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><p>常见面试题</p>
<ol>
<li><p>为什么连接的时候是三次握手，关闭的时候却是四次握手？<br>答：因为当Server端收到Client端的SYN连接请求报文后，可以直接发送SYN+ACK报文。其中ACK报文是用来应答的，SYN报文是用来同步的。但是关闭连接时，当Server端收到FIN报文时，很可能并不会立即关闭SOCKET，所以只能先回复一个ACK报文，告诉Client端，”你发的FIN报文我收到了”。只有等到我Server端所有的报文都发送完了，我才能发送FIN报文，因此不能一起发送。故需要四步握手。</p>
</li>
<li><p>为什么TIME_WAIT状态需要经过2MSL(最大报文段生存时间)才能返回到CLOSE状态？<br>答：虽然按道理，四个报文都发送完毕，我们可以直接进入CLOSE状态了，但是我们必须假象网络是不可靠的，有可以最后一个ACK丢失。所以TIME_WAIT状态就是用来重发可能丢失的ACK报文。在Client发送出最后的ACK回复，但该ACK可能丢失。Server如果没有收到ACK，将不断重复发送FIN片段。所以Client不能立即关闭，它必须确认Server接收到了该ACK。Client会在发送出ACK之后进入到TIME_WAIT状态。Client会设置一个计时器，等待2MSL的时间。如果在该时间内再次收到FIN，那么Client会重发ACK并再次等待2MSL。所谓的2MSL是两倍的MSL(Maximum Segment Lifetime)。MSL指一个片段在网络中最大的存活时间，2MSL就是一个发送和一个回复所需的最大时间。如果直到2MSL，Client都没有再次收到FIN，那么Client推断ACK已经被成功接收，则结束TCP连接。</p>
</li>
<li><p>为什么不能用两次握手进行连接？<br>答：3次握手完成两个重要的功能，既要双方做好发送数据的准备工作(双方都知道彼此已准备好)，也要允许双方就初始序列号进行协商，这个序列号在握手过程中被发送和确认。现在把三次握手改成仅需要两次握手，死锁是可能发生的。作为例子，考虑计算机S和C之间的通信，假定C给S发送一个连接请求分组，S收到了这个分组，并发 送了确认应答分组。按照两次握手的协定，S认为连接已经成功地建立了，可以开始发送数据分组。可是，C在S的应答分组在传输中被丢失的情况下，将不知道S 是否已准备好，不知道S建立什么样的序列号，C甚至怀疑S是否收到自己的连接请求分组。在这种情况下，C认为连接还未建立成功，将忽略S发来的任何数据分 组，只等待连接确认应答分组。而S在发出的分组超时后，重复发送同样的分组。这样就形成了死锁。</p>
</li>
<li><p>如果已经建立了连接，但是客户端突然出现故障了怎么办？<br>TCP还设有一个保活计时器，显然，客户端如果出现故障，服务器不能一直等下去，白白浪费资源。服务器每收到一次客户端的请求后都会重新复位这个计时器，时间通常是设置为2小时，若两小时还没有收到客户端的任何数据，服务器就会发送一个探测报文段，以后每隔75秒钟发送一次。若一连发送10个探测报文仍然没反应，服务器就认为客户端出了故障，接着就关闭连接。</p>
</li>
</ol>
<h3 id="http"><a href="#http" class="headerlink" title="http"></a>http</h3><h3 id="HTTP-2-和-HTTP-1-1-的对比"><a href="#HTTP-2-和-HTTP-1-1-的对比" class="headerlink" title="HTTP/2 和 HTTP/1.1 的对比"></a>HTTP/2 和 HTTP/1.1 的对比</h3><h4 id="相关问题"><a href="#相关问题" class="headerlink" title="相关问题"></a>相关问题</h4><ol>
<li>了解 HTTP/2 吗</li>
<li>HTTP/1.0、HTTP/1.1 和 HTTP/2 的区别<h4 id="回答关键点"><a href="#回答关键点" class="headerlink" title="回答关键点"></a>回答关键点</h4><code>队头阻塞</code>,<code>持久连接</code>,<code>二进制分帧层</code>,<code>多路复用</code>,<code>服务端推送</code></li>
</ol>
<h3 id="HTTP-1-1-相较-HTTP-1-0-的改进和优化："><a href="#HTTP-1-1-相较-HTTP-1-0-的改进和优化：" class="headerlink" title="HTTP/1.1 相较 HTTP/1.0 的改进和优化："></a>HTTP/1.1 相较 HTTP/1.0 的改进和优化：</h3><ul>
<li>持久连接</li>
<li>HTTP管道化</li>
<li>分块编码传输</li>
<li>新增Host头处理</li>
<li>更多缓存处理</li>
<li>新增更多状态码</li>
<li>断点续传、并行下载</li>
</ul>
<h4 id="HTTP-1-1-的缺点："><a href="#HTTP-1-1-的缺点：" class="headerlink" title="HTTP/1.1 的缺点："></a>HTTP/1.1 的缺点：</h4><ul>
<li>队头阻塞（Head-of-line blocking）</li>
<li>头部冗余</li>
<li>TCP连接数限制</li>
</ul>
<h4 id="HTTP-2-的优点："><a href="#HTTP-2-的优点：" class="headerlink" title="HTTP/2 的优点："></a>HTTP/2 的优点：</h4><ul>
<li>二进制分帧层</li>
<li>多路复用</li>
<li>Header压缩</li>
<li>服务端推送</li>
</ul>
<h4 id="知识点深入"><a href="#知识点深入" class="headerlink" title="知识点深入"></a>知识点深入</h4><ol>
<li>HTTP/1.1</li>
<li>1 相较 HTTP/1.0 的改进和优化<br>HTTP/1.1 相比于 HTTP/1.0 的改进和优化主要包含：持久连接、HTTP管道化请求、分块编码传输、新增host头字段、缓存支持、更多状态码等。</li>
</ol>
<h4 id="持久连接"><a href="#持久连接" class="headerlink" title="持久连接"></a>持久连接</h4><p>在HTTP/1.0时期，每进行一次HTTP通信，都需要经过TCP三次握手建立连接。若一个页面引用了多个资源文件，就会极大地增加服务器负担，拉长请求时间，降低用户体验。</p>
<p>HTTP/1.1中增加了持久连接，可以在一次TCP连接中发送和接收多个HTTP请求/响应。只要浏览器和服务器没有明确断开连接，那么该TCP连接会一直保持下去。</p>
<p>持久连接在 HTTP/1.1 中默认开启（请求头中带有 Connection: keep-alive），若不需要开启持久连接，可以在请求头中加上 Connection: close。</p>
<h4 id="HTTP管道化"><a href="#HTTP管道化" class="headerlink" title="HTTP管道化"></a>HTTP管道化</h4><p>HTTP管道化是指将多个HTTP请求同时发送给服务器的技术，但是响应必须按照请求发出的顺序依次返回。<br>但是由于HTTP管道化仍存在诸多问题：</p>
<p>第一个响应慢仍会阻塞后续响应<br>服务器为了保证能按序返回需要缓存提前完成的响应而占用更多资源<br>需要客户端 、代理和服务器都支持管道化<br>所以目前大部分主流浏览器默认关闭HTTP管线化功能。</p>
<h4 id="分块编码传输"><a href="#分块编码传输" class="headerlink" title="分块编码传输"></a>分块编码传输</h4><p>在HTTP/1.1协议里，允许在响应头中指定Transfer-Encoding: chunked标识当前为分块编码传输，可以将内容实体分装成一个个块进行传输。</p>
<h4 id="新增Host头处理"><a href="#新增Host头处理" class="headerlink" title="新增Host头处理"></a>新增Host头处理</h4><p>在HTTP/1.0中认为每台服务器都绑定一个唯一的IP地址，因此一台服务器也无法搭建多个Web站点。<br>在HTTP/1.1中新增了host字段，可以指定请求将要发送到的服务器主机名和端口号。</p>
<h4 id="断点续传、并行下载"><a href="#断点续传、并行下载" class="headerlink" title="断点续传、并行下载"></a>断点续传、并行下载</h4><p>在HTTP/1.1中，新增了请求头字段Range和响应头字段Content-Range。</p>
<p>前者是用来告知服务器应该返回文件的哪一部分，后者则是用来表示返回的数据片段在整个文件中的位置，可以借助这两个字段实现断点续传和并行下载。</p>
<h4 id="HTTP-1-1-的缺点"><a href="#HTTP-1-1-的缺点" class="headerlink" title="HTTP/1.1 的缺点"></a>HTTP/1.1 的缺点</h4><p>队头阻塞<br>虽然在 HTTP1.1 中增加了持久连接，能在一次 TCP 连接中发送和接收多个 HTTP 请求/响应，但是在一个管道中同一时刻只能处理一个请求，所以如果上一个请求未完成，后续的请求都会被阻塞。</p>
<p>头部冗余<br>HTTP 请求每次都会带上请求头，若此时 cookie 也携带大量数据时，就会使得请求头部变得臃肿。<br>TCP 连接数限制</p>
<p>浏览器对于同一个域名，只允许同时存在若干个 TCP 连接（根据浏览器内核有所差异），若超过浏览器最大连接数限制，后续请求就会被阻塞。</p>
<h3 id="HTTP-2"><a href="#HTTP-2" class="headerlink" title="HTTP/2"></a>HTTP/2</h3><h4 id="HTTP-2-的优点"><a href="#HTTP-2-的优点" class="headerlink" title="HTTP/2 的优点"></a>HTTP/2 的优点</h4><p>二进制分帧层<br>在HTTP/1.x中传输数据使用的是纯文本形式的报文，需要不断地读入字节直到遇到分隔符为止。而HTTP/2则是采用二进制编码，将请求和响应数据分割为一个或多个的体积小的帧。</p>
<p>多路复用<br>HTTP/2允许在单个TCP连接上并行地处理多个请求和响应，真正解决了HTTP/1.1的队头阻塞和TCP连接数限制问题。</p>
<p>Header压缩<br>使用HPACK算法来压缩头部内容，包体积缩小，在网络上传输变快。</p>
<p>服务端推送<br>允许服务端主动向浏览器推送额外的资源，不再是完全被动地响应请求。例如客户端请求HTML文件时，服务端可以同时将JS和CSS文件发送给客户端。</p>
<h4 id="HTTP和HTTPS的基本概念"><a href="#HTTP和HTTPS的基本概念" class="headerlink" title="HTTP和HTTPS的基本概念"></a>HTTP和HTTPS的基本概念</h4><ul>
<li>HTTP：是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（TCP），用于从WWW服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。</li>
<li>HTTPS：是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。<br>HTTPS协议的主要作用可以分为两种：</li>
<li>一种是建立一个信息安全通道，来保证数据传输的安全</li>
<li>另一种就是确认网站的真实性</li>
</ul>
<h2 id="xss和csrf"><a href="#xss和csrf" class="headerlink" title="xss和csrf"></a>xss和csrf</h2><p>XSS原理：攻击者把恶意脚本注入到受信任页面并被浏览器执行，脚本利用页面的信任上下文（cookies、localStorage、DOM）窃取数据或者劫持会话来获取敏感信息。</p>
<p>常见类型：反射型（参数或者路径直接反射到页面并执行）；存储型：（恶意内容存储在服务器，其他用户访问时触发）</p>
<ol>
<li>xss的预防方法是设置csp<br>通过 Content-Security-PolicyHTTP头来开启CSP:<br>只允许加载本站资源Content-Security-Policy: default-src ‘self’。<br>只允许加载HTTPS协议图片 Content-Security-Policy: img-src https://*。<br>允许加载任何来源框架 Content-Security-Policy: child-src ‘none’。</li>
<li>httponly开头的cookie<br>Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; Secure; HttpOnly。</li>
<li>过滤decoding map</li>
</ol>
<ul>
<li>CSRF的防范<br>防范CSRF可遵循以下几种规则:</li>
<li>Get 请求不对数据进行修改。</li>
<li>不让第三方网站访问到用户Cookie。</li>
<li>阻止第三方网站请求接口。</li>
<li>请求时附带验证信息，如验证码或Token。</li>
</ul>
<h2 id="十大排序算法"><a href="#十大排序算法" class="headerlink" title="十大排序算法"></a>十大排序算法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">排序算法</span><br><span class="line">├─ O(n²) 简单排序</span><br><span class="line">│   ├─ 冒泡 Bubble</span><br><span class="line">│   ├─ 选择 Selection</span><br><span class="line">│   └─ 插入 Insertion</span><br><span class="line">│</span><br><span class="line">├─ O(n log n) 高级排序（基于分治）</span><br><span class="line">│   ├─ 归并 Merge   —— 非原地 + 稳定</span><br><span class="line">│   └─ 快排 Quick   —— 原地 + 不稳定</span><br><span class="line">│</span><br><span class="line">├─ O(n log n) 不基于分治</span><br><span class="line">│   └─ 堆排序 Heap — 原地 + 不稳定</span><br><span class="line">│</span><br><span class="line">└─ O(n) 非比较排序（限定数据范围）</span><br><span class="line">    ├─ 计数排序 Counting</span><br><span class="line">    ├─ 桶排序 Bucket</span><br><span class="line">    └─ 基数排序 Radix</span><br></pre></td></tr></table></figure>

<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p>两两比较，大的往后沉，双重循环，交换！</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSort</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;  arr.<span class="property">length</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j&lt; arr.<span class="property">length</span> - i - <span class="number">1</span>; j++)&#123;</span><br><span class="line">      <span class="keyword">if</span>(arr[j] &gt; arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">        <span class="keyword">const</span> temp = arr[j]</span><br><span class="line">        arr[j] = arr[j+<span class="number">1</span>]</span><br><span class="line">        arr[j+<span class="number">1</span>] = temp</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 优化的话，加个flag判断有没有做交换，没有就break跳出循环。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSort1</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;  arr.<span class="property">length</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j&lt; arr.<span class="property">length</span> - i - <span class="number">1</span>; j++)&#123;</span><br><span class="line">      <span class="keyword">let</span> flag = <span class="literal">false</span></span><br><span class="line">      <span class="keyword">if</span>(arr[j] &gt; arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">        <span class="keyword">const</span> temp = arr[j]</span><br><span class="line">        arr[j] = arr[j+<span class="number">1</span>]</span><br><span class="line">        arr[j+<span class="number">1</span>] = temp</span><br><span class="line">        flag = <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(!flag) <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p>每次选最小，放到前面，固定位置，找最小index</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">selectionSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">let</span> indexMin;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    indexMin = i;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; length; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[indexMin] &gt; arr[j]) &#123;</span><br><span class="line">        indexMin = j;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i !== indexMin) &#123;</span><br><span class="line">      <span class="keyword">let</span> temp = arr[i];</span><br><span class="line">      arr[i] = arr[indexMin];</span><br><span class="line">      arr[indexMin] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p>前面是有序区，把当前数插进去，适合几乎有序数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>; i&lt;arr.<span class="property">length</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">let</span> current = arr[i];</span><br><span class="line">    <span class="keyword">let</span> = j = i-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; arr[j] &gt; current)&#123;</span><br><span class="line">      arr[j+<span class="number">1</span>] = arr[j]</span><br><span class="line">      j--</span><br><span class="line">    &#125;</span><br><span class="line">    arr[j+<span class="number">1</span>] = current</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;)([<span class="number">1</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">8</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="快速排序（Top1-高频）"><a href="#快速排序（Top1-高频）" class="headerlink" title="*** 快速排序（Top1 高频）"></a>*** 快速排序（Top1 高频）</h3><p>快速排序其实是分治法，将待排序数组里的项和基准数对比，比基准数大的放在一边，小的放另一边，然后再对左右两边的子数组重复使用这个思路，直到整个数组排序完毕。<br>选基准，比它小的放左边，比它大的放右边。里面比较的是合法下标哦，是合法下标的区间哦！</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">quickSort</span>(<span class="params">arr, left, right</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (left &gt;= right) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> i = left;</span><br><span class="line">  <span class="keyword">let</span> j = right;</span><br><span class="line">  <span class="keyword">let</span> pivot = arr[left]; <span class="comment">// 基准值</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从右边找比 pivot 小的</span></span><br><span class="line">    <span class="keyword">while</span> (arr[j] &gt;= pivot &amp;&amp; i &lt; j) j--;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从左边找比 pivot 大的</span></span><br><span class="line">    <span class="keyword">while</span> (arr[i] &lt;= pivot &amp;&amp; i &lt; j) i++;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 交换</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; j) &#123;</span><br><span class="line">      [arr[i], arr[j]] = [arr[j], arr[i]];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 此时 i===j，把 pivot 放回中间</span></span><br><span class="line">  arr[left] = arr[i];</span><br><span class="line">  arr[i] = pivot;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 递归左右两边</span></span><br><span class="line">  <span class="title function_">quickSort</span>(arr, left, i - <span class="number">1</span>);</span><br><span class="line">  <span class="title function_">quickSort</span>(arr, i + <span class="number">1</span>, right);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">quickSort</span>([<span class="number">1</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">8</span>], <span class="number">0</span>, <span class="number">6</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="堆排序（面试经常问“Top-K”）"><a href="#堆排序（面试经常问“Top-K”）" class="headerlink" title="*** 堆排序（面试经常问“Top K”）"></a>*** 堆排序（面试经常问“Top K”）</h3><p>建立大顶堆，堆顶最大，不断弹出再重建。<br>React Fiber = 一棵被不断“重新排序”的最小堆结构 → 面试官特别爱问堆。<br>React Fiber 的本体结构是一串 单向链表 + 树：<br>React Fiber 的调度器（Scheduler）用的是“最小堆（min-heap）”结构；<br>React Fiber 的任务执行顺序（Fiber 树构建 / Reconciliation）本身是用“可中断的链表（队列）结构”。<br>所以：<br>Fiber = 链表结构（队列式遍历）<br>Scheduler = 用最小堆来决定“下一件事做谁”<br>这两者完全不冲突，只是层级不一样。</p>
<p>React Fiber 本身不是堆，它是一套链表结构的 Fiber 树，用来支持可中断更新。<br>但 React 的调度器 Scheduler 为了按优先级选择下一个任务，使用了“最小堆”作为优先级队列。<br>所以：Fiber = 链表；调度 = 堆。</p>
<p>堆的特性：<br>必须是完全二叉树；<br>任一结点的值是其子树所有结点的最大值或最小值。 最大值时，称为”最大堆”，也称大顶堆； 最小值时，称为”最小堆”，也称小顶堆。<br>堆排序主要用到最大堆/最小堆的删除操作，也即根节点已经是最大/小的值，排序的话，只需要把根结点拿（删）掉，放入有序的新数组里，然后用下沉算法处理剩余的结点以便组成新的最大堆/最小堆……如此循环。<br>所谓下沉算法，拿最小堆来举例说（最大堆同理），就是把完全二叉树根结点R和该树第二层左右子结点的值比较，如果大，结点就互换位置（”下沉”），以此逐层递归，直到处理完整棵树，此时，根节点值最小。</p>
<p>堆的本质是完全二叉树，而完全二叉树最典型的表示方式就是“连续数组”。<br>只要数组里没有空洞（每个 index 都能访问到），它天然可以作为堆结构。<br>只要保证数组连续，堆排序一定能用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isContinuousArray</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!(i <span class="keyword">in</span> arr)) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 有洞</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> result = []</span><br><span class="line">  <span class="title function_">buildMinHeap</span>(arr)</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>, length = arr.<span class="property">length</span>; i&lt; length; i++)&#123;</span><br><span class="line">    <span class="comment">// 将堆（完全二叉树）的根结点拿走，放入result数组，此时result是已排序好的。</span></span><br><span class="line">    result.<span class="title function_">push</span>(arr[<span class="number">0</span>])</span><br><span class="line">    <span class="comment">// 将堆（完全二叉树）的根结点和最末尾的结点交换</span></span><br><span class="line">    <span class="title function_">swap</span>(<span class="number">0</span>, length-result.<span class="property">length</span>)</span><br><span class="line">    <span class="comment">// 然后下沉，重排树，让根节点是最小的。注意数组范围是length-result.length</span></span><br><span class="line">    <span class="title function_">sink</span>(arr, <span class="number">0</span> , length-result.<span class="property">length</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根据给定的数组建一个最小堆</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">buildMinHeap</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> length = arr.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">let</span> currentIndex; <span class="comment">//当前要处理的下沉结点对应的数组索引</span></span><br><span class="line">    <span class="comment">// 请注意，currentIndex为什么是从 Math.floor((length - 2) / 2) 开始？</span></span><br><span class="line">    <span class="comment">// 读者可以画个草稿图归纳一下。</span></span><br><span class="line">    <span class="comment">// 这会让算法的循环次数由N次变为logN，这正是堆排序更高效的关键所在。</span></span><br><span class="line">    <span class="keyword">for</span>(currentIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>((length - <span class="number">2</span>) / <span class="number">2</span>); currentIndex &gt;= <span class="number">0</span>; currentIndex--)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;正在处理的下沉结点索引&#x27;</span> + currentIndex)</span><br><span class="line">      <span class="title function_">sink</span>(arr, currentIndex, length)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">sink</span>(<span class="params">arr, currentIndex, length</span>)&#123; </span><br><span class="line">    <span class="keyword">let</span> minIndex = currentIndex</span><br><span class="line">    <span class="keyword">let</span> leftChildIndex = <span class="number">2</span>*currentIndex + <span class="number">1</span> <span class="comment">// 完全二叉树 左子结点索引</span></span><br><span class="line">    <span class="keyword">let</span> rightChildIndex = <span class="number">2</span>*currentIndex + <span class="number">2</span> <span class="comment">// 完全二叉树 右子结点索引</span></span><br><span class="line">    <span class="comment">// 左侧下沉</span></span><br><span class="line">    <span class="keyword">if</span>(leftChildIndex &lt; length &amp;&amp; arr[leftChildIndex] &lt; arr[minIndex])&#123;</span><br><span class="line">      minIndex = leftChildIndex</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 右侧下沉</span></span><br><span class="line">    <span class="keyword">if</span>(rightChildIndex &lt; length &amp;&amp; arr[rightChildIndex] &lt; arr[minIndex])&#123;</span><br><span class="line">      minIndex = rightChildIndex</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(minIndex !== currentIndex)&#123;</span><br><span class="line">      <span class="title function_">swap</span>(minIndex, currentIndex)</span><br><span class="line">      <span class="title function_">sink</span>(arr, minIndex, length)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">swap</span>(<span class="params">x, y</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> temp = arr[x]</span><br><span class="line">    arr[x] = arr[y]</span><br><span class="line">    arr[y] = temp</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;)([<span class="number">1</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">8</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="计数排序-不太会"><a href="#计数排序-不太会" class="headerlink" title="计数排序(不太会)"></a>计数排序(不太会)</h3><p>统计次数，再按次数依次输出,只适合整数小范围。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">countingSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> n = arr.<span class="property">length</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 找到数组中的最大值和最小值</span></span><br><span class="line">        <span class="keyword">let</span> max = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">let</span> min = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt; max) max = arr[i];</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &lt; min) min = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">const</span> range = max - min + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">const</span> count = <span class="keyword">new</span> <span class="title class_">Array</span>(range).<span class="title function_">fill</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">const</span> output = <span class="keyword">new</span> <span class="title class_">Array</span>(n);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 统计每个元素出现的次数</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            count[arr[i] - min]++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 计算每个元素应该放置的位置</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; range; i++) &#123;</span><br><span class="line">            count[i] += count[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 从后往前遍历，保证稳定性</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            output[count[arr[i] - min] - <span class="number">1</span>] = arr[i];</span><br><span class="line">            count[arr[i] - min]--;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 将结果复制回原数组</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            arr[i] = output[i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> sortedArr = <span class="title function_">countingSort</span>(arr);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sortedArr);</span><br><span class="line">&#125;)([<span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">8</span>]);<span class="comment">//&gt;&gt; [1, 2, 4, 5, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>
<h3 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h3><p>分桶 → 各桶排序 → 合并<br>适合均匀分布的数据。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bucketSort</span>(<span class="params">arr, bucketSize = <span class="number">5</span></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr.<span class="property">length</span> === <span class="number">0</span>) <span class="keyword">return</span> arr;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 找到数组中的最大值和最小值</span></span><br><span class="line">        <span class="keyword">let</span> min = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">let</span> max = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &lt; min) min = arr[i];</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt; max) max = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 创建桶</span></span><br><span class="line">        <span class="keyword">const</span> bucketCount = <span class="title class_">Math</span>.<span class="title function_">floor</span>((max - min) / bucketSize) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">const</span> buckets = <span class="keyword">new</span> <span class="title class_">Array</span>(bucketCount);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; bucketCount; i++) &#123;</span><br><span class="line">            buckets[i] = [];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 将数据分配到桶中</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">const</span> bucketIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>((arr[i] - min) / bucketSize);</span><br><span class="line">            buckets[bucketIndex].<span class="title function_">push</span>(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 对每个桶中的数据进行排序</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; buckets.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            buckets[i].<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 将桶中的数据按顺序合并</span></span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; buckets.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; buckets[i].<span class="property">length</span>; j++) &#123;</span><br><span class="line">                arr[index++] = buckets[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> sortedArr = <span class="title function_">bucketSort</span>(arr);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sortedArr);</span><br><span class="line">&#125;)([<span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">8</span>]);<span class="comment">//&gt;&gt; [1, 2, 4, 5, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>
<h3 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h3><p>按个位、十位、百位依次排<br>用桶 + 多次扫描。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">radixSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">        <span class="comment">// 找到数组中的最大值</span></span><br><span class="line">        <span class="keyword">let</span> max = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt; max) max = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 计算最大值的位数</span></span><br><span class="line">        <span class="keyword">let</span> maxDigit = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="title class_">Math</span>.<span class="title function_">floor</span>(max / <span class="number">10</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            maxDigit++;</span><br><span class="line">            max = <span class="title class_">Math</span>.<span class="title function_">floor</span>(max / <span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 对每一位进行排序</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> digit = <span class="number">0</span>; digit &lt; maxDigit; digit++) &#123;</span><br><span class="line">            <span class="comment">// 创建10个桶（0-9）</span></span><br><span class="line">            <span class="keyword">const</span> buckets = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123;<span class="attr">length</span>: <span class="number">10</span>&#125;, <span class="function">() =&gt;</span> []);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 将数据分配到桶中</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">const</span> bucketIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>(arr[i] / <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">10</span>, digit)) % <span class="number">10</span>;</span><br><span class="line">                buckets[bucketIndex].<span class="title function_">push</span>(arr[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 将桶中的数据按顺序合并</span></span><br><span class="line">            <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; buckets[i].<span class="property">length</span>; j++) &#123;</span><br><span class="line">                    arr[index++] = buckets[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> sortedArr = <span class="title function_">radixSort</span>(arr);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sortedArr);</span><br><span class="line">&#125;)([<span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">8</span>]);<span class="comment">//&gt;&gt; [1, 2, 4, 5, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>
<h3 id="归并排序（分治-面试能问很深）"><a href="#归并排序（分治-面试能问很深）" class="headerlink" title="*** 归并排序（分治 + 面试能问很深）"></a>*** 归并排序（分治 + 面试能问很深）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mergeSort</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> array = <span class="title function_">mergeSortRec</span>(arr)</span><br><span class="line">  <span class="keyword">return</span> array</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mergeSortRec</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> length = arr.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">if</span>(length === <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> mid = <span class="title class_">Math</span>.<span class="title function_">floor</span>(length/<span class="number">2</span>),</span><br><span class="line">  left = arr.<span class="title function_">slice</span>(<span class="number">0</span>, mid),</span><br><span class="line">  right = arr.<span class="title function_">slice</span>(mid, length)</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">merge</span>(<span class="title function_">mergeSortRec</span>(left), <span class="title function_">mergeSortRec</span>(right))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">left, right</span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> result = [], ileft = <span class="number">0</span>, iright=<span class="number">0</span></span><br><span class="line">  <span class="keyword">while</span>(ileft&lt;left.<span class="property">length</span> &amp;&amp; iright&lt;right.<span class="property">length</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(left[ileft] &lt; right[iright])&#123;</span><br><span class="line">      result.<span class="title function_">push</span>(left[ileft++])</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      result.<span class="title function_">push</span>(right[iright++])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(ileft&lt;left.<span class="property">length</span>)&#123;</span><br><span class="line">    result.<span class="title function_">push</span>(left[ileft++])</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(iright&lt;right.<span class="property">length</span>)&#123;</span><br><span class="line">    result.<span class="title function_">push</span>(right[iright++])</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">shellSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> n = arr.<span class="property">length</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 初始间隔设为数组长度的一半</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> gap = <span class="title class_">Math</span>.<span class="title function_">floor</span>(n / <span class="number">2</span>); gap &gt; <span class="number">0</span>; gap = <span class="title class_">Math</span>.<span class="title function_">floor</span>(gap / <span class="number">2</span>)) &#123;</span><br><span class="line">            <span class="comment">// 对每个子序列进行插入排序</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i = gap; i &lt; n; i++) &#123;</span><br><span class="line">                <span class="keyword">let</span> temp = arr[i];</span><br><span class="line">                <span class="keyword">let</span> j;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 在子序列中寻找插入位置</span></span><br><span class="line">                <span class="keyword">for</span> (j = i; j &gt;= gap &amp;&amp; arr[j - gap] &gt; temp; j -= gap) &#123;</span><br><span class="line">                    arr[j] = arr[j - gap];</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                arr[j] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> sortedArr = <span class="title function_">shellSort</span>(arr);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sortedArr);</span><br><span class="line">&#125;)([<span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">8</span>]);<span class="comment">//&gt;&gt; [1, 2, 4, 5, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>

<h3 id="后面单调栈的代码实现有点问题，粗看了一下后面几个题，先不按照这里的算法题复习了哦！转去瓶子算法那，感觉更好懂。"><a href="#后面单调栈的代码实现有点问题，粗看了一下后面几个题，先不按照这里的算法题复习了哦！转去瓶子算法那，感觉更好懂。" class="headerlink" title="后面单调栈的代码实现有点问题，粗看了一下后面几个题，先不按照这里的算法题复习了哦！转去瓶子算法那，感觉更好懂。"></a>后面单调栈的代码实现有点问题，粗看了一下后面几个题，先不按照这里的算法题复习了哦！转去瓶子算法那，感觉更好懂。</h3><h2 id="三大框架和webpack部分跳过，写的不好。"><a href="#三大框架和webpack部分跳过，写的不好。" class="headerlink" title="三大框架和webpack部分跳过，写的不好。"></a>三大框架和webpack部分跳过，写的不好。</h2><h2 id="发布订阅和观察者模式"><a href="#发布订阅和观察者模式" class="headerlink" title="发布订阅和观察者模式"></a>发布订阅和观察者模式</h2><p>观察者模式：观察者（Observer）直接订阅（Subscribe）主题（Subject），而当主题被激活的时候，会触发（Fire Event）观察者里的事件。<br>发布订阅模式：订阅者（Subscriber）把自己想订阅的事件注册（Subscribe）到调度中心（Event Channel），当发布者（Publisher）发布该事件（Publish Event）到调度中心，也就是该事件触发时，由调度中心统一调度（Fire Event）订阅者注册到调度中心的处理代码。</p>
<p>差异：<br>在观察者模式中，观察者是知道 Subject 的，Subject 一直保持对观察者进行记录。然而，在发布订阅模式中，发布者和订阅者不知道对方的存在。它们只有通过消息代理进行通信。<br>在发布订阅模式中，组件是松散耦合的，正好和观察者模式相反。<br>观察者模式大多数时候是同步的，比如当事件触发，Subject 就会去调用观察者的方法。而发布-订阅模式大多数时候是异步的（使用消息队列）。<br>观察者模式需要在单个应用程序地址空间中实现，而发布-订阅更像交叉应用模式。</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#es%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">2.</span> <span class="toc-text">es新特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#es7"><span class="toc-number">2.1.</span> <span class="toc-text">es7</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es8"><span class="toc-number">2.2.</span> <span class="toc-text">es8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es9"><span class="toc-number">2.3.</span> <span class="toc-text">es9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es10"><span class="toc-number">2.4.</span> <span class="toc-text">es10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es11"><span class="toc-number">2.5.</span> <span class="toc-text">es11</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">3.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this"><span class="toc-number">4.</span> <span class="toc-text">this</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E6%80%8E%E4%B9%88%E5%88%A4%E6%96%AD%E5%A5%BD%E5%91%A2%EF%BC%9F"><span class="toc-number">4.1.</span> <span class="toc-text">具体怎么判断好呢？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#call%E3%80%81apply%E3%80%81bind"><span class="toc-number">5.</span> <span class="toc-text">call、apply、bind</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#call%E3%80%81apply%E5%BA%94%E8%AF%A5%E7%94%A8%E5%93%AA%E4%B8%AA%EF%BC%9F"><span class="toc-number">5.1.</span> <span class="toc-text">call、apply应该用哪个？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%86%99call%E3%80%81bind%E3%80%81apply"><span class="toc-number">5.2.</span> <span class="toc-text">手写call、bind、apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0apply-call-bind"><span class="toc-number">5.3.</span> <span class="toc-text">实现apply&#x2F;call&#x2F;bind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apply"><span class="toc-number">5.4.</span> <span class="toc-text">apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call"><span class="toc-number">5.5.</span> <span class="toc-text">call</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bind"><span class="toc-number">5.6.</span> <span class="toc-text">bind</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">5.6.1.</span> <span class="toc-text">常见面试题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#javascript%E6%89%8B%E5%86%99call%EF%BC%8Capply%EF%BC%8Cbind%E5%87%BD%E6%95%B0%EF%BC%8C%E5%B0%A4%E5%85%B6%E6%98%AFbind%E5%87%BD%E6%95%B0"><span class="toc-number">5.6.2.</span> <span class="toc-text">javascript手写call，apply，bind函数，尤其是bind函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">6.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-number">7.</span> <span class="toc-text">原型和原型链</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%EF%BC%8CEventLoop"><span class="toc-number">8.</span> <span class="toc-text">线程，EventLoop</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">9.</span> <span class="toc-text">循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for%EF%BC%8CforEach%EF%BC%8Cmap"><span class="toc-number">9.1.</span> <span class="toc-text">for，forEach，map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for-in-amp-for-of"><span class="toc-number">9.2.</span> <span class="toc-text">for..in &amp; for..of</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filter-find-some-sort-reduce"><span class="toc-number">9.3.</span> <span class="toc-text">filter,find,some,sort,reduce</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reduce"><span class="toc-number">9.4.</span> <span class="toc-text">reduce</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">10.</span> <span class="toc-text">深拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%AF%E9%87%8C%E5%8C%96"><span class="toc-number">11.</span> <span class="toc-text">柯里化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reflect%E5%92%8Cproxy"><span class="toc-number">12.</span> <span class="toc-text">reflect和proxy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E5%92%8C%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">12.1.</span> <span class="toc-text">数据绑定和响应式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95"><span class="toc-number">12.2.</span> <span class="toc-text">日志记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6"><span class="toc-number">12.3.</span> <span class="toc-text">权限控制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="toc-number">13.</span> <span class="toc-text">网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#http"><span class="toc-number">13.1.</span> <span class="toc-text">http</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-2-%E5%92%8C-HTTP-1-1-%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">13.2.</span> <span class="toc-text">HTTP&#x2F;2 和 HTTP&#x2F;1.1 的对比</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98"><span class="toc-number">13.2.1.</span> <span class="toc-text">相关问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E7%AD%94%E5%85%B3%E9%94%AE%E7%82%B9"><span class="toc-number">13.2.2.</span> <span class="toc-text">回答关键点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-1-1-%E7%9B%B8%E8%BE%83-HTTP-1-0-%E7%9A%84%E6%94%B9%E8%BF%9B%E5%92%8C%E4%BC%98%E5%8C%96%EF%BC%9A"><span class="toc-number">13.3.</span> <span class="toc-text">HTTP&#x2F;1.1 相较 HTTP&#x2F;1.0 的改进和优化：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-1-1-%E7%9A%84%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="toc-number">13.3.1.</span> <span class="toc-text">HTTP&#x2F;1.1 的缺点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-2-%E7%9A%84%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="toc-number">13.3.2.</span> <span class="toc-text">HTTP&#x2F;2 的优点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B7%B1%E5%85%A5"><span class="toc-number">13.3.3.</span> <span class="toc-text">知识点深入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E8%BF%9E%E6%8E%A5"><span class="toc-number">13.3.4.</span> <span class="toc-text">持久连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E7%AE%A1%E9%81%93%E5%8C%96"><span class="toc-number">13.3.5.</span> <span class="toc-text">HTTP管道化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%9D%97%E7%BC%96%E7%A0%81%E4%BC%A0%E8%BE%93"><span class="toc-number">13.3.6.</span> <span class="toc-text">分块编码传输</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%A2%9EHost%E5%A4%B4%E5%A4%84%E7%90%86"><span class="toc-number">13.3.7.</span> <span class="toc-text">新增Host头处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0%E3%80%81%E5%B9%B6%E8%A1%8C%E4%B8%8B%E8%BD%BD"><span class="toc-number">13.3.8.</span> <span class="toc-text">断点续传、并行下载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-1-1-%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-number">13.3.9.</span> <span class="toc-text">HTTP&#x2F;1.1 的缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-2"><span class="toc-number">13.4.</span> <span class="toc-text">HTTP&#x2F;2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-2-%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-number">13.4.1.</span> <span class="toc-text">HTTP&#x2F;2 的优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E5%92%8CHTTPS%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">13.4.2.</span> <span class="toc-text">HTTP和HTTPS的基本概念</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#xss%E5%92%8Ccsrf"><span class="toc-number">14.</span> <span class="toc-text">xss和csrf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E5%A4%A7%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-number">15.</span> <span class="toc-text">十大排序算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-number">15.1.</span> <span class="toc-text">冒泡排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-number">15.2.</span> <span class="toc-text">选择排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="toc-number">15.3.</span> <span class="toc-text">插入排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%EF%BC%88Top1-%E9%AB%98%E9%A2%91%EF%BC%89"><span class="toc-number">15.4.</span> <span class="toc-text">*** 快速排序（Top1 高频）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F%EF%BC%88%E9%9D%A2%E8%AF%95%E7%BB%8F%E5%B8%B8%E9%97%AE%E2%80%9CTop-K%E2%80%9D%EF%BC%89"><span class="toc-number">15.5.</span> <span class="toc-text">*** 堆排序（面试经常问“Top K”）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F-%E4%B8%8D%E5%A4%AA%E4%BC%9A"><span class="toc-number">15.6.</span> <span class="toc-text">计数排序(不太会)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%B6%E6%8E%92%E5%BA%8F"><span class="toc-number">15.7.</span> <span class="toc-text">桶排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F"><span class="toc-number">15.8.</span> <span class="toc-text">基数排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%EF%BC%88%E5%88%86%E6%B2%BB-%E9%9D%A2%E8%AF%95%E8%83%BD%E9%97%AE%E5%BE%88%E6%B7%B1%EF%BC%89"><span class="toc-number">15.9.</span> <span class="toc-text">*** 归并排序（分治 + 面试能问很深）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F"><span class="toc-number">15.10.</span> <span class="toc-text">希尔排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E9%9D%A2%E5%8D%95%E8%B0%83%E6%A0%88%E7%9A%84%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9C%89%E7%82%B9%E9%97%AE%E9%A2%98%EF%BC%8C%E7%B2%97%E7%9C%8B%E4%BA%86%E4%B8%80%E4%B8%8B%E5%90%8E%E9%9D%A2%E5%87%A0%E4%B8%AA%E9%A2%98%EF%BC%8C%E5%85%88%E4%B8%8D%E6%8C%89%E7%85%A7%E8%BF%99%E9%87%8C%E7%9A%84%E7%AE%97%E6%B3%95%E9%A2%98%E5%A4%8D%E4%B9%A0%E4%BA%86%E5%93%A6%EF%BC%81%E8%BD%AC%E5%8E%BB%E7%93%B6%E5%AD%90%E7%AE%97%E6%B3%95%E9%82%A3%EF%BC%8C%E6%84%9F%E8%A7%89%E6%9B%B4%E5%A5%BD%E6%87%82%E3%80%82"><span class="toc-number">15.11.</span> <span class="toc-text">后面单调栈的代码实现有点问题，粗看了一下后面几个题，先不按照这里的算法题复习了哦！转去瓶子算法那，感觉更好懂。</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%A4%A7%E6%A1%86%E6%9E%B6%E5%92%8Cwebpack%E9%83%A8%E5%88%86%E8%B7%B3%E8%BF%87%EF%BC%8C%E5%86%99%E7%9A%84%E4%B8%8D%E5%A5%BD%E3%80%82"><span class="toc-number">16.</span> <span class="toc-text">三大框架和webpack部分跳过，写的不好。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E5%92%8C%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">17.</span> <span class="toc-text">发布订阅和观察者模式</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2025/11/23/2025-sum-06/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://yoursite.com/2025/11/23/2025-sum-06/&text=2025年｜前端内参复习"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2025/11/23/2025-sum-06/&is_video=false&description=2025年｜前端内参复习"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=2025年｜前端内参复习&body=Check out this article: http://yoursite.com/2025/11/23/2025-sum-06/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://yoursite.com/2025/11/23/2025-sum-06/&title=2025年｜前端内参复习"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2025/11/23/2025-sum-06/&name=2025年｜前端内参复习&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://yoursite.com/2025/11/23/2025-sum-06/&t=2025年｜前端内参复习"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2025 Arieslx
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight .code pre").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'cactus-1';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


</body>
</html>
